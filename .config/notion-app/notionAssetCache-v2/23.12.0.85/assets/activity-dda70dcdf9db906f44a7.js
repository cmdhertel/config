"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1471],{48298:(e,t,o)=>{o.d(t,{kn:()=>m,kj:()=>p,Tr:()=>g});var i=o(58129),r=o(90468),a=o(19889),n=o(50906),s=o(54642),d=o(10279),c=o(9953),l=o(30149),h=o(31622),u=o(98905);const m=async e=>{const{environment:t,store:o,accessRequestStore:i,forActor:r,status:s,from:h}=e,u=t.currentUser.id;if("approved"===s){const e={type:"existingUser",value:r,spaceRole:"read_and_write"};if(!(await d.n_({environment:t,store:o,inviteTargets:[e],inviteRole:"read_and_write",isOnboarding:!1,invite:{inviteOrigin:"membership_request"}})).success)return}l.createAndCommit({userAction:"GrantAccessActivityAction.handleGrantAccess",environment:t,perform:e=>{c.sW({store:i,transaction:e,data:{granted_time:Date.now(),granted_by_table:a.KJ,granted_by_id:u,resolved_time:Date.now(),resolved_by_table:a.KJ,resolved_by_id:u,status:s}})}}),n.trackResolveMembershipRequest(t,{status:s,request_id:i.id,from:h,for_actor_id:r.id,space_role:o.getRole()})};async function p(e){if(u.Z.reset(),!e.canAdmin)return;const{environment:t,spaceId:o}=e,i=await s.getUnreadAccessRequestCount(t,{parentTable:r.bx,parentId:o,size:1});"success"===i.type&&u.Z.setState({spaceId:o,count:i.data.count})}function g(e,t){const o=new Map;for(const r of t){const t=(0,h.Kv)(e,{table:i.J8,id:r}),n=t.getValue();if(!n)continue;if(n.for_actor_table!==a.KJ||n.created_by_table!==a.KJ)continue;const s=(0,h.Kv)(e,{table:n.for_actor_table,id:n.for_actor_id}).getValue();if(!s)continue;const d=(0,h.Kv)(e,{table:n.created_by_table,id:n.created_by_id}).getValue();if(d)if(o.has(n.for_actor_id)){const e=o.get(n.for_actor_id);if(!e)continue;n.created_time>e.latestRequestTime?o.set(n.for_actor_id,{...e,createdByActorsWithReason:[{actor:d,reason:n.message},...e.createdByActorsWithReason],accessRequest:n,accessRequestStore:t,latestRequestTime:n.created_time}):o.set(n.for_actor_id,{...e,createdByActorsWithReason:[...e.createdByActorsWithReason,{actor:d,reason:n.message}]})}else o.set(n.for_actor_id,{forActor:s,createdByActorsWithReason:[{actor:d,reason:n.message}],accessRequest:n,accessRequestStore:t,latestRequestTime:n.created_time})}return Array.from(o.values())}},68831:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Io});var i=o(97464),r=o.n(i),a=o(77094),n=o.n(a),s=o(67294),d=o(83355),c=o(40902),l=o(41432),h=o(39068),u=o(59753),m=o(55061),p=o(89101),g=o(21202),v=o(6287),b=o(13493),f=o(70279),y=o(33709),S=o(90468),A=o(99108),M=o(97880),O=o(5366),w=o(31622),k=o(480),_=o(81954),R=o(24405),T=o(58129),I=o(29369),J=o(19889),D=o(82990),C=o(4708),B=o(33929),N=o(66897),P=o(8848),x=o(3779),V=o(51118),L=o(17659),F=o(30149),K=o(43250),Z=o(12534),E=o(16402),U=o(4761),q=o(12318),G=o(73063),z=o(86176),H=o(58032),W=o(70301),$=o(45653),j=o(67706);function Y(e){let{notification:t,rootStore:o,onArchiveClicked:i,onMarkAsReadClicked:a,onMarkAsUnreadClicked:d}=e;window.__c={n:"InboxActionsMenu"};const c=(0,k.O7)(),l=(0,s.useCallback)((e=>{t&&(0,Z.ZP)({event:e,context:Z.Af.NotificationClick,callback:()=>{i(),F.createAndCommit({userAction:"InboxActionsMenu.handleArchive",environment:c,perform:e=>{L.aZ({notification:t,rootStore:o,transaction:e})}})}})}),[c,t,i,o]),h=(0,s.useCallback)((e=>{t&&(0,Z.ZP)({event:e,context:Z.Af.NotificationClick,callback:()=>{t.read?d():a(),F.createAndCommit({userAction:"InboxActionsMenu.toggleNotificationReadStatus",environment:c,perform:e=>{L.$h({notification:t,rootStore:o,transaction:e,read:!t.read})}})}})}),[c,t,a,d,o]),{isMobile:u}=c.device,m=(0,R.yK)((e=>({container:{display:"flex",height:"min-content",background:e.buttonGroupBackground,boxShadow:e.lightBoxShadow,borderRadius:4,padding:2},button:{height:u?30:26,width:u?30:26},iconStyle:{fill:e.mediumTextColor,padding:2},readIcon:{width:u?21:19,height:u?22:20},archiveIcon:{width:u?24:23,height:u?24:23}})),[u]);return t?n()("div",{style:m.container},void 0,n()(H.Z,{renderTooltip:()=>t.read?n()(O.FormattedMessage,{defaultMessage:"Mark this notification as unread",id:"inboxActionsMenu.markNotificationAsUnread.tooltipMessage",description:"Tooltip message for the icon button to mark a notification as unread. The icon is an image of an empty speech bubble."}):n()(O.FormattedMessage,{defaultMessage:"Mark this notification as read",id:"inboxActionsMenu.markNotificationAsRead.tooltipMessage",description:"Tooltip message for the icon button to mark a notification as read. The icon is an image of a speech bubble with a checkmark in it."}),render:e=>s.createElement(G.Z,r()({style:m.button,icon:t.read?x.Z.notificationUnread:x.Z.notificationRead,iconStyle:{...m.iconStyle,...m.readIcon},onClick:h},e))}),n()(H.Z,{renderTooltip:()=>n()(O.FormattedMessage,{defaultMessage:"Archive this notification",id:"inboxActionsMenu.handleArchive.tooltipMessage",description:"Tooltip message for the icon button to archive a notification. The icon is an image of a storage file box."}),render:e=>s.createElement(G.Z,r()({style:m.button,icon:x.Z.archive,iconStyle:{...m.iconStyle,...m.archiveIcon},onClick:l},e))})):null}const X=s.memo(Y);var Q=o(32469),ee=o(93963);class te extends d.Z{constructor(){super(...arguments),this.storeTypes={hovered:q.default.of(!1),hoveredOverInboxActionsMenu:q.default.of(!1)},this.handleMouseOver=()=>{this.stores.hovered.set(!0)},this.handleMouseLeave=()=>{this.stores.hovered.set(!1)},this.handleMouseEnterInboxActions=()=>{this.stores.hoveredOverInboxActionsMenu.set(!0)},this.handleMouseLeaveInboxActions=()=>{this.stores.hoveredOverInboxActionsMenu.set(!1)},this.handleArchive=()=>{const{notification:e,rootStore:t,onArchiveClicked:o}=this.props;o(),e&&F.createAndCommit({userAction:"ActivitySection.handleArchive",environment:this.environment,perform:o=>{L.aZ({notification:e,rootStore:t,transaction:o})}})},this.handleMarkAsRead=e=>{const{notification:t,rootStore:o,onNotificationFrameClicked:i}=this.props;t&&!t.read&&(this.stores.hoveredOverInboxActionsMenu.get()||(0,Z.ZP)({event:e,context:Z.Af.NotificationClick,callback:()=>{i(),F.createAndCommit({userAction:"ActivitySection.handleMarkAsRead",environment:this.environment,perform:e=>{L.$h({notification:t,rootStore:o,transaction:e,read:!0})}})}}))},this.handleOpenSnapshot=()=>{if(this.props.navigableBlockId){const e=w.G.createChildStore(this.props.rootStore,{table:g.iU,id:this.props.navigableBlockId});V.jN({environment:this.environment,blockStore:e,openSnapshotNearTimestamp:this.props.timestamp.toString(),from:"activity"})}}}renderComponent(){const{children:e}=this.props,t="mentions"===U.ZP.state.currentTab;return n()("div",{onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onClick:this.handleMarkAsRead},void 0,this.renderInboxActions(),n()("div",{style:{...te.wrapStyle,paddingBottom:e?12:8,paddingLeft:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingLeftCSS:0,paddingRight:this.environment.device.isMobile?this.environment.WindowSizeStore.state.paddingRightCSS:0,...this.shouldShowReadNotificationStyle()&&{opacity:.7}}},void 0,n()("div",{style:this.getHeaderAndAvatarStyle()},void 0,n()("div",{className:K.FoE,style:this.avatarAndStatusDotStyle()},void 0,n()("div",{style:{marginRight:4}},void 0,t&&n()("div",{style:{marginRight:this.environment.device.isMobile?3:2}},void 0,this.renderStatusDot({opacity:1}))),this.props.icon),this.renderHeader(),this.renderSnapshotButton(),this.renderPrivate()),e&&this.renderChildren()),this.renderDivider())}renderDivider(){const{isLast:e}=this.props;if(!e)return n()("div",{style:this.getBorderBottomStyle()})}renderHeader(){const{timestamp:e,header:t}=this.props,o=(0,E.IS)(e),i=(0,E.uy)(e);return n()("div",{style:te.headerStyle},void 0,n()("div",{className:K.NFf},void 0,t),n()("div",{style:{display:"flex",marginTop:4,marginBottom:this.props.children?8:4}},void 0,n()("div",{style:this.getTimeStyle(),className:K.CZG},void 0,n()(j.Z,{text:o,tooltipText:i,icon:x.Z.calendar})),this.props.navigableBlockId&&this.props.rootStore&&n()(z.Z,{isLink:!0,innerStyle:this.getPathStyle(),store:w.G.createChildStore(this.props.rootStore,{table:g.iU,id:this.props.navigableBlockId}),left:n()("div",{style:this.getSeparatorDotStyle()},void 0,"Â·"),onClick:this.props.onBacklinkClicked})))}renderSnapshotButton(){if(!this.props.showSnapshotButton)return;if(this.props.timestamp<new Date("2018-10-26").getTime())return;const e=B.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"});return this.props.navigableBlockId?n()(H.Z,{renderTooltip:()=>e,render:t=>s.createElement(G.Z,r()({ariaLabel:e,onClick:this.handleOpenSnapshot,icon:x.Z.versionHistoryThick},t))}):void 0}renderInboxActions(){const{notification:e,rootStore:t,onArchiveClicked:o,onMarkAsReadClicked:i,onMarkAsUnreadClicked:r}=this.props,{currentTab:a}=U.ZP.state;if("mentions"===a&&e&&!e.visited)return n()("div",{style:this.getStatusLabelContainerStyle(),onMouseEnter:this.handleMouseEnterInboxActions,onMouseLeave:this.handleMouseLeaveInboxActions},void 0,n()("div",{style:this.getInboxActionsStyle()},void 0,n()(X,{notification:e,rootStore:t,onArchiveClicked:o,onMarkAsReadClicked:i,onMarkAsUnreadClicked:r})))}renderStatusDot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!this.isSeen()&&n()(ee.z,{style:{...this.getStatusDotStyle(),...e}})}renderPrivate(){if(this.props.isPrivate&&!this.props.notification)return n()(Q.Z,{style:{marginTop:1,marginBottom:4,marginLeft:8}})}renderChildren(){return n()("div",{className:K.nU_},void 0,this.props.children)}isSeen(){const{notification:e}=this.props;return!e||e.read}shouldShowReadNotificationStyle(){const{currentTab:e}=U.ZP.state;return this.isSeen()&&"mentions"===e&&!this.props.showSnapshotButton&&this.props.notification}avatarAndStatusDotStyle(){return{display:"flex",alignItems:"flex-start",position:"relative"}}getHeaderAndAvatarStyle(){return{display:"flex",paddingLeft:16,paddingRight:16+("mentions"!==U.ZP.state.currentTab||this.props.showSnapshotButton?0:69)}}getBorderBottomStyle(){return{borderBottom:`1px solid ${this.theme.regularDividerColor}`}}getPathStyle(){return{fontSize:12,color:this.theme.lightTextColor}}getTimeStyle(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}}getSeparatorDotStyle(){return{fontSize:12,color:this.theme.lightTextColor,marginLeft:4,marginRight:4}}getStatusLabelContainerStyle(){return{display:"flex",alignItems:"flex-start",marginTop:1,marginBottom:4,position:"relative",marginLeft:this.environment.device.isMobile?23:8}}getStatusDotStyle(){return{position:"absolute",opacity:this.stores.hovered.get()?0:1,left:-7,top:10}}getInboxActionsStyle(){const{isMobile:e}=this.environment.device;return{transition:"opacity 100ms ease-out",opacity:e||this.stores.hovered.get()?1:0,position:"absolute",right:16,top:12,zIndex:1}}}te.displayName="ActivitySection",te.wrapStyle={paddingTop:12},te.headerStyle={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0};const oe={marginTop:2,marginRight:8,flexShrink:0};function ie(e){const{authors:t}=e,o=t[0];return o&&(0,N.z8)(o)?n()(W.Z,{botValue:o.value,style:oe,size:24}):n()($.Z,{userValue:o&&o.value,style:oe,size:24,avatarShouldShowShadow:!0})}function re(){return window.__c={n:"ReminderIcon"},n()("div",{style:{display:"flex",backgroundColor:P.ZP.red,height:28,width:28,borderRadius:"100%",...oe}},void 0,x.Z.alarmClock({height:16,width:16,fill:P.ZP.white,marginLeft:6,marginTop:5}))}function ae(){return window.__c={n:"VerificationIcon"},n()("div",{style:{height:25,width:25,...oe}},void 0,x.Z.typesVerification({height:25,width:25}))}const ne=te;function se(e){window.__c={n:"ActivitySectionRedesignedIA"};const[t,o]=(0,s.useState)(!1),[i,r]=(0,s.useState)(!1),{notification:a,prominentTitleLink:d,children:c,rootStore:l,icon:h,isPrivate:u,isLast:m,onArchiveClicked:p,onNotificationFrameClicked:g,onMarkAsReadClicked:v,onMarkAsUnreadClicked:b,navigableBlockId:f,showSnapshotButton:y,timestamp:S,header:A}=e,M=(0,k.O7)(),O=(0,_.VK)((()=>"mentions"===U.ZP.state.currentTab),[]),w=!a||a.read,T=M.device.isMobile,I=Boolean(w&&O&&!y&&a),J=(0,_.VK)((()=>{const e=M.WindowSizeStore.state;return{left:e.paddingLeftCSS,right:e.paddingRightCSS}}),[M.WindowSizeStore]),D=(0,R.yK)((e=>({container:{paddingTop:12,paddingBottom:c?12:8,paddingLeft:T?J.left:0,paddingRight:T?J.right:0,...I&&{opacity:.7}},headerAndAvatar:{display:"flex",paddingLeft:16,paddingRight:16},avatarAndStatusDot:{display:"flex",alignItems:"flex-start",position:"relative"},statusDot:{position:"absolute",opacity:1,left:-7,top:10},statusDotWrapper:{marginRight:T?3:2},privatePageBadge:{marginTop:1,marginBottom:4,marginLeft:8},divider:{borderBottom:`1px solid ${e.regularDividerColor}`}})),[c,J,T,I]),C=(0,s.useCallback)((e=>{a&&!a.read&&(i||(0,Z.ZP)({event:e,context:Z.Af.NotificationClick,callback:()=>{g(),F.createAndCommit({userAction:"ActivitySectionRedesignedIA.handleMarkAsRead",environment:M,perform:e=>{L.$h({notification:a,rootStore:l,transaction:e,read:!0})}})}}))}),[M,i,a,g,l]),B=(0,s.useCallback)((()=>o(!0)),[]),N=(0,s.useCallback)((()=>o(!1)),[]);return n()("div",{onMouseOver:B,onMouseLeave:N,onClick:C},void 0,n()(de,{notification:a,rootStore:l,isMobile:T,isHovered:t,isMentionsTab:O,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onArchiveClicked:p,onMarkAsReadClicked:v,onMarkAsUnreadClicked:b}),n()("div",{style:D.container},void 0,n()("div",{style:D.headerAndAvatar},void 0,n()("div",{className:K.FoE,style:D.avatarAndStatusDot},void 0,n()("div",{style:{marginRight:4}},void 0,O&&n()("div",{style:D.statusDotWrapper},void 0,!w&&n()(ee.z,{style:D.statusDot}))),h),n()(ce,{timestamp:S,header:A,prominentTitleLink:d,hasChildren:Boolean(c)}),y&&f&&n()(le,{timestamp:S,navigableBlockId:f,rootStore:l}),u&&!a&&n()(Q.Z,{style:D.privatePageBadge})),c&&n()("div",{className:K.nU_},void 0,c)),!m&&n()("div",{style:D.divider}))}function de(e){window.__c={n:"InboxActions"};const{notification:t,rootStore:o,isMobile:i,isHovered:r,isMentionsTab:a,onArchiveClicked:s,onMarkAsReadClicked:d,onMarkAsUnreadClicked:c,onMouseEnter:l,onMouseLeave:h}=e,u=(0,R.yK)((()=>({container:{display:"flex",alignItems:"flex-start",marginTop:1,marginBottom:4,position:"relative",marginLeft:i?23:8},body:{transition:"opacity 100ms ease-out",opacity:i||r?1:0,position:"absolute",right:16,top:12,zIndex:1}})),[i,r]);return a&&t?t.visited?null:n()("div",{style:u.container,onMouseEnter:l,onMouseLeave:h},void 0,n()("div",{style:u.body},void 0,n()(X,{notification:t,rootStore:o,onArchiveClicked:s,onMarkAsReadClicked:d,onMarkAsUnreadClicked:c}))):null}function ce(e){window.__c={n:"Header"};const{timestamp:t,prominentTitleLink:o,header:i,hasChildren:r}=e,a=(0,E.IS)(t,{useCompactFormat:!0}),s=(0,k.O7)().device.isMobile,d=(0,E.uy)(t),c=(0,R.yK)((e=>({container:{width:"90%"},header:{fontSize:14,lineHeight:1.4,minWidth:0,minHeight:s?28:void 0,display:"flex",alignItems:"baseline"},headerDescription:{paddingRight:14},title:{fontSize:14,marginTop:4,marginBottom:r?8:4},spacer:{flexGrow:1,minWidth:20},time:{fontSize:12,color:e.lightTextColor,whiteSpace:"nowrap"},path:{fontSize:12,color:e.lightTextColor},separatorDot:{fontSize:12,color:e.lightTextColor,marginLeft:4,marginRight:4}})),[r,s]);return n()("div",{style:c.container},void 0,n()("div",{style:c.header},void 0,n()("div",{className:K.NFf,style:c.headerDescription},void 0,i),n()("div",{style:c.spacer}),n()("div",{style:c.time,className:K.CZG},void 0,n()(j.Z,{text:a,tooltipText:d,icon:x.Z.calendar}))),o&&n()("div",{style:c.title},void 0,o))}function le(e){window.__c={n:"SnapshotButton"};const{timestamp:t,navigableBlockId:o,rootStore:i}=e,a=(0,k.O7)();if(t<new Date("2018-10-26").getTime())return null;const d=B.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"}),c=()=>{const e=w.G.createChildStore(i,{table:g.iU,id:o});V.jN({environment:a,blockStore:e,openSnapshotNearTimestamp:t.toString(),from:"activity"})};return n()(H.Z,{renderTooltip:()=>d,render:e=>s.createElement(G.Z,r()({ariaLabel:d,onClick:c,icon:x.Z.versionHistoryThick},e))})}const he=s.memo(se);var ue=o(96486),me=o.n(ue),pe=o(24211),ge=o(61784),ve=o(77420),be=o(48298),fe=o(50906),ye=o(91376),Se=o(64404),Ae=(o(41892),o(76725)),Me=o(63306),Oe=o(64002);class we extends s.PureComponent{render(){const{href:e}=this.props;return n()("a",{href:(0,Oe.Nm)({str:e,allowNoProtocol:!0}),style:this.getStyle(),className:"notion-email-button-hover"},void 0,this.props.children)}getStyle(){return{display:this.props.inline?"inline":"block",color:P.ZP.inherit,textDecoration:"none",cursor:"pointer",...this.props.style}}}const ke=we;class _e extends s.PureComponent{render(){const e=this.getPathWithoutDomain();return e.length>0?n()("div",{},void 0,this.props.left,(0,Ae.Z)(e,(e=>n()("span",{style:{paddingLeft:4,paddingRight:4}},`slash:${e}`,"/"))),this.props.right):null}getPathWithoutDomain(){const{getRecordValue:e,blockId:t,intl:o}=this.props,i=Me.uJ({table:"block",id:t},e),r=u.om.fromGetRecordValueFn(e);return me().initial(i.reverse()).map((e=>{const t=u.kk.fromBlock(e),i=t.getRenderTitle({getRecordModel:r,userTimeZone:this.props.userTimeZone,intl:o})||o.formatMessage({id:"recordPath.untitledBlock.placeholder",defaultMessage:"Untitled"}),a=t.getRenderUrl({getRecordModel:r});return n()(ke,{href:`${this.props.baseUrl}${a}`,style:{display:"inline-block",maxWidth:120,verticalAlign:"top",...D.Z.textOverflowStyle}},e.id,i)}))}}const Re=(0,O.injectIntl)(_e);o(43593),o(17755),o(58102);s.PureComponent;class Te extends s.PureComponent{constructor(){super(...arguments),this.theme=(0,P.gh)({theme:"light"})}render(){const{children:e}=this.props;return n()("table",{style:{paddingTop:12,paddingBottom:e?0:8,borderSpacing:0,width:"100%",borderCollapse:"separate"}},void 0,n()("tr",{},void 0,n()("td",{style:{verticalAlign:"top",width:Te.avatarSize+6,minWidth:Te.avatarSize+6,paddingTop:2}},void 0,this.props.icon),n()("td",{},void 0,this.renderHeader())),n()("tr",{},void 0,n()("td",{}),n()("td",{style:{maxWidth:400}},void 0,e&&this.renderChildren())),this.renderDivider())}renderDivider(){const{isLast:e}=this.props;if(!e)return n()("tr",{},void 0,n()("td",{colSpan:2},void 0,n()("div",{style:this.getBorderBottomStyle()})))}renderHeader(){const{timestamp:e,header:t,intl:o}=this.props,i=(0,ge.Yx)(Math.min(e,Date.now()),"medium_with_time",(0,pe.E2)(o),this.props.userTimeZone);return n()("div",{style:Te.headerStyle},void 0,n()("div",{},void 0,t),n()("table",{style:{...this.getPathAndTimeStyle(),marginTop:4,marginBottom:this.props.children?8:4,borderSpacing:0}},void 0,n()("tr",{},void 0,n()("td",{},void 0,i),n()("td",{},void 0,this.props.navigableBlockId&&n()(Re,{getRecordValue:this.props.getRecordValue,blockId:this.props.navigableBlockId,baseUrl:this.props.baseUrl,left:n()("span",{style:this.getDotStyle()},void 0,"Â·"),userTimeZone:this.props.userTimeZone})))))}renderChildren(){return n()("div",{},void 0,this.props.children)}getBorderBottomStyle(){return{borderBottom:`1px solid ${this.props.theme.regularDividerColor}`,marginBottom:4}}getPathAndTimeStyle(){return{fontSize:12,color:this.theme.lightTextColor,whiteSpace:"nowrap"}}getDotStyle(){return{color:this.theme.lightTextColor,marginLeft:4,marginRight:4}}}Te.avatarSize=28,Te.headerStyle={fontSize:14,lineHeight:1.4};const Ie={fontWeight:D.Z.fontWeight.semibold};(0,O.injectIntl)(Te);var Je=o(70203),De=o(67669),Ce=o(79315);function Be(e){const{edits:t,rootStore:o}=e,i=me().uniqWith(t.flatMap((e=>e.authors||[])),me().isEqual);return me().compact(i.map((e=>Pe(e,o))))}function Ne(e){const{currentUserStore:t}=Ce.default.state,o=null==t?void 0:t.id;return function(e,t,o){const i=t.find((e=>e.value.id===o)),r=t.map((t=>(0,N.$4)(e,t)));if(1===t.length)return n()("span",{},void 0,n()(O.FormattedMessage,i?{defaultMessage:"You",id:"activitySection.authorPhrase.forOneAuthorCurrentUser.label",description:"Bolded string for denoting that the current user generated an activity update notification.",values:{b:e=>n()("span",{style:Ie},void 0,e)}}:{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.label",description:"Bolded string for showing the single author that generated an activity update notification.",values:{author:r[0],b:e=>n()("span",{style:Ie},void 0,e)}}));if(2===t.length){if(i){const o=t.filter((e=>e!==i)).map((t=>(0,N.$4)(e,t)));return n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and you",id:"activitySection.authorPhrase.forTwoAuthorsCurrentUser.label",description:"Bolded string for listing two authors in an activity update notification, with the current user being one of them.",values:{firstAuthor:o[0],b:e=>n()("span",{style:Ie},void 0,e)}}))}return n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"<b>{firstAuthor}</b> and <b>{secondAuthor}</b>",id:"activitySection.authorPhrase.forTwoAuthors.label",description:"Bolded string for listing two authors in an activity update notification.",values:{firstAuthor:r[0],secondAuthor:r[1],b:e=>n()("span",{style:Ie},void 0,e)}}))}if(r.length>2){if(i){const o=t.filter((e=>e!==i)).map((t=>(0,N.$4)(e,t))),r=n()(O.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, =0 {<b>{firstAuthor}</b>, <b>{secondAuthor}</b> and you} one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthorsCurrentUser.label",description:"Bolded string for showing multiple authors that generated an activity update notification, with the current user being one of them.",values:{numberOfOtherAuthors:o.length-2,firstAuthor:o[0],secondAuthor:o[1],b:e=>n()("span",{style:Ie},void 0,e)}});return n()("span",{},void 0,r)}{const e=n()(O.FormattedMessage,{defaultMessage:"{numberOfOtherAuthors, plural, one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthors.label",description:"Bolded string for showing multiple authors that generated an activity update notification.",values:{numberOfOtherAuthors:r.length-2,firstAuthor:r[0],secondAuthor:r[1],b:e=>n()("span",{style:Ie},void 0,e)}});return n()("span",{},void 0,e)}}return n()("span",{style:Ie},void 0,n()(O.FormattedMessage,{defaultMessage:"Nobody",description:"Default text when there's an activity update with no users attached",id:"activitySection.authorPhrase.forNoAuthors.label"}))}(B.default.getIntl(),e,o)}function Pe(e,t){if(e.table===J.KJ){const o=xe(e.id,t);if(o)return(0,N.dp)(o)}else{const o=function(e,t){return(0,w.Kv)(t,{table:ve.cZ,id:e}).getValue()}(e.id,t);if(o)return(0,N.D$)(o)}}function xe(e,t){return w.U6.createChildStore(t,{table:J.KJ,id:e}).getValue()}function Ve(e){const{tab:t,recordId:o,recordType:i,rootStore:r,environment:a}=e;if("all"===t){if(!o)return!1;let e;return e="block"===i?w.G.createChildStore(r,{table:g.iU,id:o}):"collection"===i?w.NW.createChildStore(r,{table:v.v,id:o}):w.H2.createChildStore(r,{table:S.bx,id:o}),(0,De.yi)(a,e)}return!1}function Le(e){const{activity:t,rootStore:o}=e;if("commented"!==t.type)return;const i=o.getRecordValue({table:y.qF,id:t.discussion_id,spaceId:t.space_id});if(!i)return;if(!i.context)return;const r=(0,Je.VP)(i.context,(e=>!(0,Je.xw)(e)||(0,Je.h1)(e)===i.id));return{id:i.id,context:r}}var Fe=o(61519),Ke=o(62385),Ze=o(64369);class Ee extends d.Z{constructor(){super(...arguments),this.storeTypes={role:q.default.of(void 0)}}renderComponent(){const{accessRequestStore:e}=this.props;if(e.isDefined()){if(e.isResolvedSpaceMembershipRequest())return this.renderResolvedSpaceMembershipRequest();if(this.canResolveMembershipRequests())return n()("div",{style:{display:"flex",alignItems:"center"}},void 0,n()(Ke.Z,{onClick:()=>this.resolveMembershipRequest("approved"),style:this.getButtonStyle(!1)},void 0,n()(O.FormattedMessage,{defaultMessage:"Approve",id:"approveSpaceMembershipActivityAction.approveButton.label",description:"Button in notification to approve a membership request."})),n()(Ke.Z,{onClick:()=>this.resolveMembershipRequest("rejected"),style:{height:26,paddingLeft:8,paddingRight:8}},void 0,n()(O.FormattedMessage,{defaultMessage:"Decline",id:"approveSpaceMembershipActivityAction.declineButton.label",description:"Decline space membership request button in notification."})),!this.environment.device.isMobile&&s.createElement(s.Fragment,null,n()(Fe.Z,{size:1,vertical:!0,style:{height:26,paddingLeft:8,paddingRight:8}}),n()(Ke.Z,{onClick:()=>{fe.trackClickViewAllRequests(this.environment,{disable_membership_requests:this.props.spaceStore.getDisableMembershipRequests()}),this.handleOpenSettingsMembersRequests()},style:{height:26,paddingLeft:8,paddingRight:8}},void 0,n()(O.FormattedMessage,{defaultMessage:"View all requests",id:"approveSpaceMembershipActivityAction.viewAllRequests.label",description:"Button that takes user to the settings modal members requests tab to see all existing requests."}))))}}renderResolvedSpaceMembershipRequest(){const{accessRequestStore:e}=this.props;if(!e.isDefined())return;const t=e.isResolvedSpaceMembershipRequest()&&this.renderActor(e.getResolvedByPointer());return s.createElement(s.Fragment,null,n()(Ze.Z,{isSecondaryColor:!0},void 0,"approved"===e.getStatus()?n()(O.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestApproved.title",values:{grantedBy:t},description:"Message showing that space membership request has been approved."}):n()(O.FormattedMessage,{defaultMessage:"Declined by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestDeclined.title",values:{grantedBy:t},description:"Message showing that space membership request has been declined."})),n()(Ze.Z,{isSmall:!0,isSecondaryColor:!0},void 0,(0,ge.Yx)(Math.min(e.getResolvedTime(),Date.now()),"medium_with_time",(0,pe.E2)(this.props.intl))))}handleOpenSettingsMembersRequests(){ye.r({currentTab:"members",subtab:Se.Q.Requests})}canResolveMembershipRequests(){return this.props.spaceStore.canEditMembership()}renderActor(e){const{table:t,id:o}=e;return Ne(me().compact([this.getActor(t,o)]))}getActor(e,t){if(e===J.KJ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,N.dp)(o)}if(e===ve.cZ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,N.D$)(o)}}get rootStore(){return this.props.accessRequestStore}async resolveMembershipRequest(e){if(!this.canResolveMembershipRequests())return;const t=this.environment,{spaceStore:o,accessRequestStore:i}=this.props;if(!i.isDefined())return;const r=this.getActor(J.KJ,i.getForActorId());r&&r.table===J.KJ&&await be.kn({environment:t,store:o,accessRequestStore:i,forActor:r.value,status:e,from:"notification"})}getButtonStyle(e){const t={height:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}}Ee.displayName="ApproveSpaceMembershipActivityAction";const Ue=(0,O.injectIntl)(Ee);var qe=o(13991),Ge=o(27006),ze=o(19719),He=o(10279),We=o(9953),$e=o(21115),je=o(78291),Ye=o(7567);class Xe extends d.Z{constructor(){super(...arguments),this.storeTypes={role:q.default.of(void 0)},this.handleApproveMembershipRequest=async()=>{},this.handleGrantPageAccess=async()=>{const{targetBlockStore:e,accessRequestStore:t}=this.props,o=this.getInviteTargetWithNewPermissionItem();if(!("permissionItem"in o))return;const i=this.environment.currentUser.id;if(!i)return;if("type"in o){let t;if("existingUser"===o.type){t=(await He.n_({environment:this.environment,store:e,inviteTargets:[o],inviteRole:o.permissionItem.role,isOnboarding:!1,invite:{inviteOrigin:"page_request_access"}})).success}else if("bot"===o.type){t=(await He.n_({environment:this.environment,store:e,inviteTargets:[o],inviteRole:void 0,isOnboarding:!1,invite:{inviteOrigin:"page_request_access"}})).success}else(0,M.t1)(o);if(!t)return}F.createAndCommit({userAction:"GrantPageAccessActivityAction.handleGrantPageAccess",environment:this.environment,perform:r=>{"type"in o||He.ep({environment:this.environment,transaction:r,store:e,permissionItems:[o.permissionItem]}),We.sW({store:t,transaction:r,data:{granted_time:Date.now(),granted_by_table:J.KJ,granted_by_id:i,resolved_time:Date.now(),resolved_by_table:J.KJ,resolved_by_id:i,status:"approved"}})}});const r=t.getValue(),a=r&&r.created_time&&r.granted_time?r.granted_time-r.created_time:void 0;fe.trackGrantAccess(this.environment,{requestId:r&&r.id,timeElapsedSinceRequest:a,newAccessLevel:o.permissionItem.role,...this.getGrantOrIgnoreAccessArgs()})},this.handleRoleChange=e=>{const t=this.props.accessRequestStore.id,o=this.stores.role.state;this.stores.role.setState(e),fe.trackChangeGrantAccessLevel(this.environment,{requestId:t,previousAccessLevel:o,newAccessLevel:e,...this.getGrantOrIgnoreAccessArgs()})},this.handleArchive=()=>{const{notification:e}=this.props;e&&(F.createAndCommit({userAction:"GrantPageAccessActivityAction.handleArchive",environment:this.environment,perform:t=>{L.aZ({notification:e,rootStore:this.props.accessRequestStore,transaction:t})}}),fe.trackIgnoreAccessRequest(this.environment,this.getGrantOrIgnoreAccessArgs()))}}renderComponent(){const e=this.props.accessRequestStore.getValue();if(!e)return;if((0,T.Kc)(e))return this.renderGrantedAccessRequest(e);if(!this.canGrantAccess())return;const t=e.parent_table===S.bx,o=this.getCurrentPermissionItem();if(o&&!t){const t=this.renderActor(e.for_actor_table,e.for_actor_id),i=o.role===this.getRole();return s.createElement(s.Fragment,null,n()(Ze.Z,{isSecondaryColor:!0,style:{marginBottom:6}},void 0,n()(O.FormattedMessage,{defaultMessage:"{requestingUser} already has access.",id:"grantPageAccessActivityAction.alreadyHasAccess.label",description:"Shown if the user who requested access already has access",values:{requestingUser:t}})),n()(Ye.Z,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:g.iU,blockType:this.props.targetBlockStore.getType(),type:e.for_actor_table===J.KJ?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!0)}),n()(Ke.Z,{onClick:this.handleGrantPageAccess,style:this.getButtonStyle(i)},void 0,n()(O.FormattedMessage,{defaultMessage:"Change",id:"grantPageAccessActivityAction.changePermissionButton.label",description:"Change permission button for page access requests in notification."})),this.renderArchiveButton())}return s.createElement(s.Fragment,null,n()(Ye.Z,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:g.iU,blockType:this.props.targetBlockStore.getType(),type:e.for_actor_table===J.KJ?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!1)}),n()(Ke.Z,{onClick:this.handleGrantPageAccess,style:this.getButtonStyle(!1)},void 0,n()(O.FormattedMessage,{defaultMessage:"Grant access",id:"grantPageAccessActivityAction.grantAccessButton.label",description:"Button in notification to grant access to a page access request."})),this.renderArchiveButton())}renderGrantedAccessRequest(e){const t=this.renderActor(e.granted_by_table,e.granted_by_id),o=(0,ge.$b)(Math.min(e.granted_time,Date.now()),qe.SP,B.default.getIntl());return s.createElement(s.Fragment,null,n()(Ze.Z,{isSecondaryColor:!0},void 0,n()(O.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"grantPageAccessActivityAction.accessGranted.title",description:"Approval message for page access requests in notification.",values:{grantedBy:t,time:o}})),n()(Ze.Z,{isSmall:!0,isSecondaryColor:!0},void 0,o))}renderArchiveButton(){const{notification:e}=this.props;if(e&&!e.visited)return n()(Ke.Z,{onClick:this.handleArchive,style:{height:26,paddingLeft:8,paddingRight:8}},void 0,n()(O.FormattedMessage,{defaultMessage:"Ignore",id:"grantPageAccessActivityAction.ignoreButton.label",description:"Ignore page access request button in notification."}))}getRole(){const e=this.getCurrentPermissionItem(),t=e&&e.role;return this.stores.role.state||t||this.props.initialRole}getNewPermissionItem(){const e=this.props.accessRequestStore.getValue();if(e)return e.for_actor_table===J.KJ?{type:"user_permission",user_id:e.for_actor_id,role:this.getRole()}:{type:"bot_permission",bot_id:e.for_actor_id,role:this.getRole()}}getInviteTargetWithNewPermissionItem(){const e=this.getNewPermissionItem();if(!e)return{};if(this.getCurrentPermissionItem())return{permissionItem:e};const{data:t}=je.default.state;if("user_permission"===e.type){const o=this.rootStore.getRecordValue({table:J.KJ,id:e.user_id}),i=t?$e.CM(t):[],r=i&&i.some((t=>t.userId===e.user_id));return o&&!r?{type:"existingUser",value:o,permissionItem:e}:{permissionItem:e}}if("bot_permission"===e.type){const o=this.rootStore.getRecordValue({table:ve.cZ,id:e.bot_id}),i=(t?$e.NM(t):[]).some((t=>t.botId===e.bot_id));return o&&!i?{type:"bot",value:o,permissionItem:e}:{permissionItem:e}}(0,M.t1)(e)}getCurrentPermissionItem(){const e=this.props.accessRequestStore.getValue();if(!e)return;const t=this.props.targetBlockStore.getPermissionItems();for(const o of t){if(e.for_actor_table===J.KJ&&(0,Ge.jg)(o)&&o.user_id===e.for_actor_id)return o;if(e.for_actor_table===ve.cZ&&(0,Ge.FB)(o)&&o.bot_id===e.for_actor_id)return o}}canGrantAccess(){return this.props.targetBlockStore.canAdmin()}renderActor(e,t){return Ne(me().compact([this.getActor(e,t)]))}getActor(e,t){if(e===J.KJ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,N.dp)(o)}if(e===ve.cZ){const o=this.rootStore.getRecordValue({table:e,id:t});if(o)return(0,N.D$)(o)}}get rootStore(){return this.props.accessRequestStore}getButtonStyle(e){const t={height:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}getGrantOrIgnoreAccessArgs(){const{notification:e}=this.props;return{tab:ze.Jn(),activityId:null==e?void 0:e.activity_id,notificationId:null==e?void 0:e.id}}}Xe.displayName="GrantPageAccessActivityAction";const Qe=Xe;var et=o(18698);const tt=function(e){window.__c={n:"ApproveTeamMembershipActivityButton"};const{accessRequestStore:t,teamStore:o}=e,i=(0,k.O7)(),r=(0,O.useIntl)(),{isRequestResolved:a,resolvedStatus:s,resolvedTime:d}=(0,_.VK)((()=>({isRequestResolved:t.isResolvedTeamMembershipRequest(),resolvedStatus:t.getStatus(),resolvedTime:t.getResolvedTime()})),[t]),c=(0,_.VK)((()=>{const e=t.getResolvedById();if(!e)return;const o=w.U6.createChildStore(t,{table:J.KJ,id:e});return o?o.getDisplayName(r):void 0}),[t,r]),l=async e=>{await et.ow({environment:i,teamStore:o,accessRequestStore:t,status:e})},h=(0,R.yK)((e=>({container:{display:"flex",alignItems:"center"},approveButton:{height:26,paddingLeft:8,paddingRight:8,fontSize:12,marginRight:10,fontWeight:500,boxShadow:e.plainButtonBoxShadow},declineButton:{height:26,paddingLeft:8,paddingRight:8}})),[]);return n()("div",{style:h.container},void 0,a?n()("div",{},void 0,n()(Ze.Z,{isSecondaryColor:!0},void 0,n()(O.FormattedMessage,"approved"===s?{defaultMessage:"Approved by {grantedBy}",id:"approveTeamMembershipActivityButton.requestApproved.title",values:{grantedBy:c},description:"Message showing that a team membership request has been approved."}:{defaultMessage:"Declined by {grantedBy}",id:"approveTeamMembershipActivityButton.requestDeclined.title",values:{grantedBy:c},description:"Message showing that a team membership request has been declined."})),n()(Ze.Z,{isSmall:!0,isSecondaryColor:!0},void 0,(0,ge.Yx)(Math.min(d,Date.now()),"medium_with_time",(0,pe.E2)(r)))):n()("div",{},void 0,n()(Ke.Z,{style:h.approveButton,onClick:()=>l("approved")},void 0,n()(O.FormattedMessage,{defaultMessage:"Approve",id:"approveTeamMembershipActivityButton.approveButton.label",description:"Button in notification to approve a team membership request."})),n()(Ke.Z,{style:h.declineButton,onClick:()=>l("rejected")},void 0,n()(O.FormattedMessage,{defaultMessage:"Decline",id:"approveTeamMembershipActivityButton.declineButton.label",description:"Decline team membership request button in notification."}))))};var ot=o(15145),it=o(82813),rt=o(51456);function at(e){return(0,Oe.SK)(e,{[ot.$X]:ot.tY.Notification})}function nt(e){const t=e.mightCloseTab??!0;dt({target:"body",...e,mightCloseTab:t})}function st(e){const t=e.mightCloseTab??!0;dt({target:"title",...e,mightCloseTab:t})}function dt(e){const{target:t,environment:o,activity:i,notification:r,source:a,tab:n,mightCloseTab:s}=e,d="notifications_tab"===a?U.ZP.state.sessionId:void 0,c="notifications_tab"===a?U.ZP.isFilteredToUnreadOnly():void 0;fe.trackClickUpdate(o,{target:t,activity_id:i.id,notification_id:null==r?void 0:r.id,sessionId:d,is_filtered:c,tab:n}),s&&ze.pw({environment:o,target:t}),r&&it.e((0,rt.getClientEventTracker)(o),{alreadyRead:r.read,notificationId:r.id,activityId:r.activity_id,from:t,sessionId:d})}function ct(e){const{notification:t,activity:o,environment:i,tab:r}=e,a={environment:i,activity:o,notificationId:null==t?void 0:t.id,alreadyRead:Boolean(null==t?void 0:t.read),tab:r};return{onBacklinkClicked:e=>ze.EQ({...a,backlinkPageId:e}),onArchiveClicked:()=>ze._b(a),onMarkAsReadClicked:()=>ze.cC(a),onMarkAsUnreadClicked:()=>ze.u_(a),onNotificationFrameClicked:()=>ze.ix(a)}}const lt={userSelect:"text",WebkitUserSelect:"text"},ht={padding:1,...lt},ut={display:"inline-flex",marginRight:2,verticalAlign:"text-top"},mt={fontWeight:D.Z.fontWeight.semibold};function pt(e){return{padding:0,paddingLeft:gt(e),paddingRight:16,...lt}}function gt(e){const{source:t,isMobile:o}=e;return"notifications_tab"===t?52+(o?3:2):52}function vt(e){return{height:26,paddingLeft:8,paddingRight:8,color:e.mediumTextColor}}function bt(e){return{display:"inline",whiteSpace:"normal",marginRight:e?3:0,wordBreak:"break-word",...mt}}function ft(e){return{boxShadow:e.plainButtonBoxShadow,height:26,paddingLeft:8,paddingRight:8,fontWeight:500,color:e.regularTextColor}}function yt(e){var t;window.__c={n:"NotificationActions"};const{isMobile:o,environment:i,rootStore:r,activity:a,tabArgs:s}=e,{source:d}=s,c=Boolean(null===(t=s.notification)||void 0===t?void 0:t.visited),l=(0,R.yK)((e=>({container:{paddingLeft:gt({source:d,isMobile:o})-8,paddingTop:4}})),[o,d]);return c?n()("div",{style:l.container},void 0,n()(St,{tabArgs:s,environment:i,rootStore:r,activity:a})):null}function St(e){window.__c={n:"UnarchiveButton"};const{tabArgs:t,environment:o,rootStore:i,activity:r}=e,{notification:a,tab:s}=t,d=(0,R.yK)((e=>({secondaryButton:vt(e)})),[]);return Boolean(null==a?void 0:a.visited)?n()(Ke.Z,{onClick:()=>{a&&(F.createAndCommit({userAction:"Activity.handleUnarchive",environment:o,perform:e=>{L.E1({notificationId:a.id,visited:!1,rootStore:i,transaction:e})}}),ze.F5({environment:o,activity:r,tab:s,notificationId:a.id,alreadyRead:a.read}))},style:d.secondaryButton},void 0,n()(O.FormattedMessage,{defaultMessage:"Unarchive",id:"activity.actions.unarchiveButton.label"})):null}var At=o(57688),Mt=o(62820),Ot=o(84076),wt=o(31278),kt=o(76798);function _t(e){window.__c={n:"Title"};const{titledRecordStore:t,getRecordModel:o,activity:i,tabArgs:r}=e,a=(0,_.VK)((()=>t.getModel()),[t]),d=(0,k.O7)(),c=(0,_.VK)((()=>null==a?void 0:a.getRenderIcon({getRecordModel:o})),[a,o]),l=(0,R.yK)((()=>({container:ht,icon:ut,recordTitle:bt(void 0!==c)})),[c]),h=(0,s.useCallback)((()=>{const e=t.table;switch(e){case g.iU:case v.v:case S.bx:st({environment:d,activity:i,...r});break;case I.e0:nt({environment:d,activity:i,...r}),At.hI({environment:d,teamStore:t,shouldScroll:!0}),Mt.Z.setState({...Mt.Z.state,open:!1});break;default:(0,M.t1)(e)}}),[i,d,r,t]),u=(0,_.VK)((()=>{if(a&&a.table!==I.e0)return at(a.getRenderUrl({getRecordModel:o}))}),[a,o]);return a?n()(Ot.Z,{href:u,onClick:h,external:!1,innerStyle:l.container,inline:!0},void 0,c&&s.createElement(s.Fragment,null,n()(wt.Z,{disabled:!0,icon:c,isEmptyPage:!1,size:18,style:l.icon}),n()("span",{},void 0," ")),n()(kt.Z,{store:t,style:l.recordTitle})):null}const Rt=s.memo(_t);function Tt(e){let{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e;const{notification:c,tab:l,source:h}=i,u=(0,s.useMemo)((()=>t.edits??[]),[t]),m=u[0],p=(0,k.O7)(),g=p.device.isMobile,v=(0,R.yK)((()=>({message:{paddingLeft:gt({source:h,isMobile:g}),paddingRight:16,marginTop:8,marginBottom:8},messageLabel:{whiteSpace:"pre-wrap"}})),[h,g]),b=w.oK.createChildStore(o,{table:T.J8,id:t.access_request_id}),f=(0,_.VK)((()=>b.getModel()),[b]),y=(0,_.VK)((()=>(null==f?void 0:f.getParentTable())===S.bx&&!(0,C.p1)()),[f]),A=f&&n()(It,{activity:t,accessRequest:f,rootStore:o,tabArgs:i}),M=m.message,I=(0,_.VK)((()=>Be({edits:u,rootStore:o})),[u,o]),J=(0,_.VK)((()=>Ne(I)),[I]);return y||!A?null:d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,A),isLast:a,isPrivate:!1,rootStore:o,notification:c,icon:n()(ie,{authors:I}),showSnapshotButton:!1},ct({notification:c,activity:t,environment:p,tab:l})),M&&n()("div",{style:v.message},void 0,n()(Ze.Z,{isSmall:!0},void 0,n()(O.FormattedMessage,{id:"activity.accessRequested.messageLabel",defaultMessage:"Message from {author}",values:{author:J}})),n()(Ze.Z,{isMultiline:!0,style:v.messageLabel},void 0,M)),n()(Bt,{activity:t,accessRequestStore:b,rootStore:o,source:h,notification:c}),n()(yt,{tabArgs:i,activity:t,isMobile:p.device.isMobile,environment:p,rootStore:o})):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,A),isLast:a,isPrivate:!1,rootStore:o,notification:c,icon:n()(ie,{authors:I}),showSnapshotButton:!1},ct({notification:c,activity:t,environment:p,tab:l})),M&&n()("div",{style:v.message},void 0,n()(Ze.Z,{isSmall:!0},void 0,n()(O.FormattedMessage,{id:"activity.accessRequested.messageLabel",defaultMessage:"Message from {author}",values:{author:J}})),n()(Ze.Z,{isMultiline:!0,style:v.messageLabel},void 0,M)),n()(Bt,{activity:t,accessRequestStore:b,rootStore:o,source:h,notification:c}),n()(yt,{tabArgs:i,activity:t,isMobile:p.device.isMobile,environment:p,rootStore:o}))}function It(e){const{activity:t,accessRequest:o,rootStore:i,tabArgs:r}=e,a=(0,_.VK)((()=>o.getParentTable()),[o]);switch(a){case S.bx:return n()(Dt,{activity:t,accessRequest:o,rootStore:i});case I.e0:return n()(Ct,{activity:t,rootStore:i,tabArgs:r});case g.iU:return n()(Jt,{activity:t,tabArgs:r,rootStore:i});default:(0,M.t1)(a)}}function Jt(e){window.__c={n:"BlockAccessRequestHeader"};const{activity:t,rootStore:o,tabArgs:i}=e,r=(0,s.useMemo)((()=>t.edits??[]),[t]),a=(0,_.VK)((()=>Be({edits:r,rootStore:o})),[r,o]),d=(0,_.VK)((()=>Ne(a)),[a]);if(!t.navigable_block_id)return null;const c=w.G.createChildStore(o,{table:g.iU,id:t.navigable_block_id});return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested access to {pageName}} other {{authorOrAuthors} requested access to {pageName}}}",values:{numberOfAuthors:a.length,authorOrAuthors:d,pageName:n()(Rt,{titledRecordStore:c,activity:t,tabArgs:i,getRecordModel:o.getRecordModel})},id:"activity.accessRequested.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})}function Dt(e){const{activity:t,accessRequest:o,rootStore:i}=e,r=(0,s.useMemo)((()=>t.edits??[]),[t]),a=(0,R.yK)((()=>({inviteePhrase:{fontWeight:D.Z.fontWeight.semibold}})),[]),d=(0,_.VK)((()=>o.getForActorPointer()),[o]),c=w.U6.createChildStore(i,{table:J.KJ,id:d.id}),l=(0,_.VK)((()=>c.getModel()),[c]),h=(0,_.VK)((()=>null==l?void 0:l.getEmail()),[l]),u=(0,_.VK)((()=>o.getForActorId()===o.getCreatedById()),[o]),m=(0,_.VK)((()=>Be({edits:r,rootStore:i})),[r,i]),p=(0,_.VK)((()=>Ne(m)),[m]),g=(0,_.VK)((()=>{if(!u)return h;const e=null==l?void 0:l.getFullName(B.default.getIntl());return e?`${e} (${h})`:h}),[u,l,h]);return l&&d.table===J.KJ?n()(O.FormattedMessage,u?{defaultMessage:"{invitee} requested to become a workspace member",values:{invitee:n()("span",{style:a.inviteePhrase},void 0,g)},id:"activity.accessRequestedMembershipFromGuest.header",description:"Notification header describing that a user created a membership request for themself."}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested {invitee} to become a workspace member} other {{authorOrAuthors} requested {invitee} to become a workspace member}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,invitee:n()("span",{style:a.inviteePhrase},void 0,g)},id:"activity.accessRequestedMembership.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):null}function Ct(e){window.__c={n:"TeamMembershipRequestHeader"};const{activity:t,rootStore:o,tabArgs:i}=e,r=(0,s.useMemo)((()=>t.edits??[]),[t]),a=(0,_.VK)((()=>Be({edits:r,rootStore:o})),[r,o]),d=(0,_.VK)((()=>Ne(a)),[a]);if(!r||!t.team_id)return null;const c=w.zX.createChildStore(o,{table:I.e0,id:t.team_id});return n()(O.FormattedMessage,{defaultMessage:"{user} requested to become a member of {teamName}",values:{user:n()("span",{style:{fontWeight:D.Z.fontWeight.semibold}},void 0,d),teamName:n()(Rt,{titledRecordStore:c,getRecordModel:o.getRecordModel,activity:t,tabArgs:i})},id:"activity.teamAccessRequest.header",description:"Notification header describing that a user created a team access request."})}function Bt(e){const{activity:t,accessRequestStore:o,rootStore:i,source:r,notification:a}=e,d=(0,s.useMemo)((()=>t.edits||[]),[t])[0],c=(0,_.VK)((()=>o.getParentTable()),[o]),l=(0,_.VK)((()=>o.getParentId()),[o]),h=(0,k.O7)().device.isMobile,u=(0,R.yK)((e=>({actionPrimaryContainer:{paddingLeft:gt({source:r,isMobile:h}),paddingTop:12,paddingBottom:8},actionButton:ft(e)})),[r,h]),m=l?w.G.createChildStore(i,{table:g.iU,id:l}):void 0,p=(0,_.VK)((()=>c===g.iU&&Boolean(null==m?void 0:m.canAdmin())),[c,m]);if(!c||!l||!d)return null;switch(c){case g.iU:return p&&m?n()("div",{style:u.actionPrimaryContainer},void 0,n()(Qe,{accessRequestStore:o,targetBlockStore:m,initialRole:"reader",buttonStyle:u.actionButton,notification:a})):null;case S.bx:const e=w.H2.createChildStore(i,{table:c,id:l});return n()("div",{style:u.actionPrimaryContainer},void 0,n()(Ue,{accessRequestStore:o,spaceStore:e,initialRole:"reader",buttonStyle:u.actionButton,notification:a}));case I.e0:const t=w.zX.createChildStore(i,{table:c,id:l});return n()("div",{style:u.actionPrimaryContainer},void 0,n()(tt,{accessRequestStore:o,teamStore:t}));default:(0,M.t1)(c)}}const Nt=s.memo(Tt);var Pt=o(79931),xt=o(64921);class Vt extends d.Z{constructor(){super(...arguments),this.storeTypes={open:q.default.of(!1)},this.handleOpen=()=>{this.stores.open.set(!0)}}renderComponent(){return this.stores.open.get()||this.props.items.length<=this.props.visible?n()("div",{},void 0,this.props.items):n()("div",{},void 0,this.props.items.slice(0,this.props.visible),n()(xt.Z,{onClick:this.handleOpen,style:this.getStyle()},void 0,n()(O.FormattedMessage,{defaultMessage:"View {moreCount} more",id:"activity.viewMoreButton.label",values:{moreCount:this.props.items.length-this.props.visible}})))}getStyle(){return{display:"flex",alignItems:"center",height:28,fontSize:12,color:this.theme.lightTextColor,padding:0,paddingLeft:52,paddingRight:16}}}Vt.displayName="ViewMore";const Lt=Vt;function Ft(e){const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,notification:l,source:h}=i,u=(0,A.hI)(t.edits??[]),m=u.length>0,p=w.G.createChildStore(o,{table:g.iU,id:u[0].navigable_block_id}),v=(0,_.VK)((()=>Be({edits:u,rootStore:o})),[u,o]),b=(0,_.VK)((()=>Ne(v)),[v]),f=(0,k.O7)(),y=(0,_.VK)((()=>Ve({recordId:p.id,recordType:"block",tab:c,rootStore:o,environment:f})),[p,c,o,f]);if(!(0,_.VK)((()=>p.isDefined()),[p])||!m)return null;const S=n()(Rt,{titledRecordStore:p,getRecordModel:o.getRecordModel,activity:t,tabArgs:i}),M="pageUpdatesSidebar"===c;return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated {pageTitle}} other {{authorOrAuthors} updated {pageTitle}}}",id:"activity.blockEdited.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)",values:{numberOfAuthors:v.length,authorOrAuthors:b,pageTitle:S}})),isLast:a,isPrivate:y,rootStore:o,navigableBlockId:p.id,notification:l,icon:n()(ie,{authors:v}),showSnapshotButton:M},ct({notification:l,activity:t,environment:f,tab:c})),n()(Lt,{visible:5,items:u.map(((e,r)=>n()(Kt,{edit:e,rootStore:o,onClick:()=>nt({environment:f,activity:t,...i}),source:h,isMobile:f.device.isMobile},r)))}),n()(yt,{tabArgs:i,activity:t,isMobile:f.device.isMobile,environment:f,rootStore:o})):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {pageTitle}} other {{authorOrAuthors} edited {pageTitle}}}",id:"activity.blockEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)",values:{numberOfAuthors:v.length,authorOrAuthors:b,pageTitle:S}})),isLast:a,isPrivate:y,rootStore:o,navigableBlockId:p.id,notification:l,icon:n()(ie,{authors:v}),showSnapshotButton:M},ct({notification:l,activity:t,environment:f,tab:c})),n()(Lt,{visible:5,items:u.map(((e,r)=>n()(Kt,{edit:e,rootStore:o,onClick:()=>nt({environment:f,activity:t,...i}),source:h,isMobile:f.device.isMobile},r)))}),n()(yt,{tabArgs:i,activity:t,isMobile:f.device.isMobile,environment:f,rootStore:o}))}function Kt(e){window.__c={n:"BlockPropertyEditComponent"};const{rootStore:t,edit:o,onClick:i,source:r,isMobile:a}=e,s=(0,_.VK)((()=>function(e,t){const o=t.getRecordModel({table:g.iU,id:e.block_id}),i=(null==o?void 0:o.getType())===l.Ti.tableRow?t.getRecordModel({table:g.iU,id:o.getParentId()}):o;return null==i?void 0:i.getRenderUrl({getRecordModel:t.getRecordModel})}(o,t)||p._j.root),[o,t]);return n()(Ot.Z,{href:s,onClick:i,innerStyle:pt({source:r,isMobile:a})},void 0,n()(Pt.Z,{edit:o,rootStore:t}))}var Zt=o(98459),Et=o(4083),Ut=o(14976),qt=o(17731),Gt=o(98165);function zt(){window.__c={n:"BlockHighlighterBar"};const e=(0,R.yK)((()=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:3,marginLeft:2,marginRight:8,minHeight:24,background:P.DB}})),[]);return n()("div",{style:e.blockContext})}function Ht(e){let{activity:t,tabArgs:o,rootStore:i,isLast:a,useRedesignedIA:d}=e;const c=t.edits??[],{source:l,tab:h,notification:u}=o;let m=c.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,M.t1)(e)}}));0===m.length&&0!==c.length&&"updates_sidebar"!==l&&(m=c);const p=m.length>0,v=(0,k.O7)(),b=i.getRecordStore(i,{table:y.qF,id:t.discussion_id,spaceId:t.space_id}),f=(0,_.VK)((()=>b.isDefined()),[b]),S=(0,_.VK)((()=>{const e=b.getParentPointer();if(e)return w.G.createChildStore(i,e)}),[b,i]),A=(0,_.VK)((()=>Boolean(S&&S.isDefined())),[S]),T=w.G.createChildStore(i,{table:g.iU,id:t.navigable_block_id}),I=(0,_.VK)((()=>T.isDefined()),[T]),J=(0,_.VK)((()=>Boolean(S&&(0,Gt.fl)((0,Gt.qA)(S)))),[S]),D=(0,_.VK)((()=>{if(!J||!S)return;const e=S.getModel();return e?at(e.getRenderUrl({getRecordModel:i.getRecordModel,discussionId:t.discussion_id})):void 0}),[J,S,i,t.discussion_id]),C=(0,_.VK)((()=>Be({edits:m,rootStore:i})),[m,i]),B=(0,_.VK)((()=>Ne(C)),[C]),N=J,P=(0,R.yK)((()=>({flex:{display:"flex"}})),[]),x=(0,s.useCallback)((e=>{if(nt({...o,environment:v,activity:t,mightCloseTab:N}),!J&&S){var i;const r=e.target;Et.oK({environment:v,discussionStore:b,rect:r.getBoundingClientRect(),blockStore:S,discussionLocation:Yt({forReplyMenu:!0,source:o.source}),activityId:t.id,notificationId:null===(i=o.notification)||void 0===i?void 0:i.id})}}),[t,J,S,b,v,o,N]),V=(0,s.useCallback)((()=>{var e;e={...o,environment:v,activity:t,mightCloseTab:N},dt({target:"add_reaction",...e,mightCloseTab:!1})}),[o,v,t,N]),L=n()(Rt,{titledRecordStore:T,getRecordModel:i.getRecordModel,activity:t,tabArgs:o}),F=(0,_.VK)((()=>Ve({recordId:t.navigable_block_id,recordType:g.iU,tab:h,rootStore:i,environment:v})),[t,h,i,v]),K=v.device.isMobile,Z=(0,_.VK)((()=>Yt({source:l,forReplyMenu:!1})),[l]),E=(0,_.VK)((()=>Le({activity:t,rootStore:i})),[t,i]),U=null==E?void 0:E.id,q=null==E?void 0:E.context;if(!(p&&I&&A&&f))return null;if(d){const e=!q,d=n()("div",{style:P.flex},void 0,e&&n()(zt,{}),L);return s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented} other {{authorOrAuthors} commented}}",id:"activity.commentActivity.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)",values:{numberOfAuthors:C.length,authorOrAuthors:B}})),isLast:a,isPrivate:F,rootStore:i,prominentTitleLink:d,navigableBlockId:t.navigable_block_id,notification:u,icon:n()(ie,{authors:C}),showSnapshotButton:!1},ct({notification:u,environment:v,tab:h,activity:t})),n()(Wt,{discussionId:U,discussionContext:q,alwaysHighlightWithBlockBar:!0,url:D,onClick:x,rootStore:i,source:l}),n()(Lt,{visible:5,items:m.map(((e,t,o)=>n()(Ot.Z,{onClick:x,href:D,innerStyle:pt({source:l,isMobile:K})},t,n()(Pt.Z,{edit:e,rootStore:i,type:"comment-edit",discussionLocation:Z,highlightCurrentUser:!0,onReactionClick:V}))))}),n()($t,{activity:t,rootStore:i,tabArgs:o}))}return s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented in {blockName}} other {{authorOrAuthors} commented in {blockName}}}",values:{numberOfAuthors:C.length,authorOrAuthors:B,blockName:L},id:"activity.commentActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:a,isPrivate:F,rootStore:i,navigableBlockId:t.navigable_block_id,notification:u,icon:n()(ie,{authors:C}),showSnapshotButton:!1},ct({notification:u,environment:v,tab:h,activity:t})),n()(Wt,{url:D,onClick:x,discussionId:U,discussionContext:q,alwaysHighlightWithBlockBar:!1,rootStore:i,source:l}),n()(Lt,{visible:5,items:m.map(((e,t,o)=>n()(Ot.Z,{onClick:x,href:D,innerStyle:pt({source:l,isMobile:K})},t,n()(Pt.Z,{edit:e,rootStore:i,type:"comment-edit",discussionLocation:Z,onReactionClick:V}))))}),n()($t,{activity:t,rootStore:i,tabArgs:o}))}function Wt(e){window.__c={n:"CommentContext"};const{url:t,onClick:o,rootStore:i,source:r,discussionId:a,alwaysHighlightWithBlockBar:s,discussionContext:d}=e,c=0===(0,Je.ll)(d).length||s,l=(0,k.O7)(),h=l.device.isMobile,u=(0,R.Fg)(),m=(0,R.yK)((e=>({linkbox:{...pt({source:r,isMobile:h}),display:"flex",alignItems:"flex-start",fontSize:14,...c&&{color:e.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0}})),[h,r,c]),p=(0,_.VK)((()=>(0,Ut.IY)({environment:l,textValue:d?{value:d,spaceId:i.id}:void 0,parentStore:i,disableHover:!0,disableStyleAnnotations:c,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:a,theme:u,emojiType:(0,qt.e_)(l),katex:l.KatexStore.getKatex(),formulaValueTypes:[]})),[i,l,d,a,u,c]);return d?n()(Ot.Z,{href:t,onClick:o,innerStyle:m.linkbox},void 0,c&&n()(zt,{}),n()("div",{style:D.Z.textOverflowStyle},void 0,p)):null}function $t(e){window.__c={n:"CommentActions"};const{activity:t,rootStore:o,tabArgs:i}=e,{source:r,notification:a,tab:d}=i,c=o.getRecordStore(o,{table:y.qF,id:t.discussion_id,spaceId:t.space_id}),l=(0,_.VK)((()=>c.isDefined()),[c]),h=(0,k.O7)(),u=h.device.isMobile,m=w.t1.createChildStore(o,{table:y.qF,id:t.discussion_id,spaceId:(0,Zt.CG)(o.pointer.spaceId)}),p=(0,_.VK)((()=>c.getParentId()),[c]),v=(0,s.useCallback)((e=>{if(!p)return;const i=w.G.createChildStore(o,{table:g.iU,id:p}),n=e.target,s=null==a?void 0:a.id;Et.oK({environment:h,discussionStore:m,rect:n.getBoundingClientRect(),blockStore:i,discussionLocation:Yt({forReplyMenu:!0,source:r}),activityId:t.id,notificationId:s}),"notifications_tab"===r&&ze.gY({environment:h,notificationId:s,alreadyRead:Boolean(null==a?void 0:a.read),activity:t,tab:d})}),[t,m,h,a,p,o,r,d]),b=(0,R.yK)((e=>({container:{paddingLeft:gt({source:r,isMobile:u}),paddingTop:12,paddingBottom:4},actionButton:ft(e)})),[u,r]),f=Boolean(null==a?void 0:a.visited);return l?n()("div",{style:b.container},void 0,n()(Ke.Z,{onClick:v,style:b.actionButton},void 0,n()(O.FormattedMessage,{defaultMessage:"Reply",id:"activity.replyButton.label"})),f&&s.createElement(s.Fragment,null,n()(jt,{}),n()(St,{tabArgs:i,environment:h,rootStore:o,activity:t}))):null}function jt(){return window.__c={n:"Separator"},n()("div",{style:{width:5,display:"inline-block"}})}function Yt(e){const{forReplyMenu:t,source:o}=e;if("updates_sidebar"===o)return t?"reply_menu_updates_sidebar":"updates_sidebar";return`${t?"reply_menu_":"updates_menu_"}${ze.Jn()}`}const Xt=s.memo(Ht);const Qt=function(e){window.__c={n:"EmailEditedActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,notification:l}=i,h=(0,k.O7)(),u=(0,A.hI)(t.edits??[]),m=(0,_.VK)((()=>Be({edits:u,rootStore:o})),[u,o]),p=(0,_.VK)((()=>Ne(m)),[m]),{oldEmail:g,newEmail:v}=(0,_.VK)((()=>{const e=u[0];return{oldEmail:e?e.old_email:"",newEmail:e?e.new_email:""}}),[u]),b="pageUpdatesSidebar"===c;return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} changed email from {oldEmail} to {newEmail}} other {{authorOrAuthors} changed email from {oldEmail} to {newEmail}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,oldEmail:g,newEmail:v},id:"activity.emailEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:a,isPrivate:!1,rootStore:o,notification:l,icon:n()(ie,{authors:m}),showSnapshotButton:b},ct({notification:l,activity:t,environment:h,tab:c}))):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} changed email from {oldEmail} to {newEmail}} other {{authorOrAuthors} changed email from {oldEmail} to {newEmail}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,oldEmail:g,newEmail:v},id:"activity.emailEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:a,isPrivate:!1,rootStore:o,notification:l,icon:n()(ie,{authors:m}),showSnapshotButton:b},ct({notification:l,activity:t,environment:h,tab:c})))};var eo=o(54584);function to(e){const{activity:t,rootStore:o,isLast:i,tabArgs:a,useRedesignedIA:d}=e,{tab:c,notification:l,source:h}=a,u=(0,k.O7)(),m=t.edits??[],p=m.length>0,v=m[0],b=w.G.createChildStore(o,{table:g.iU,id:v.navigable_block_id}),f=(0,_.VK)((()=>b.isDefined()),[b]),y=w.G.createChildStore(o,{table:g.iU,id:t.mentioned_block_id}),S=(0,_.VK)((()=>y.isDefined()),[y]),A=(0,_.VK)((()=>{const e=y.getModel();return null==e?void 0:e.getRenderUrl({getRecordModel:o.getRecordModel})}),[y,o]),M=(0,_.VK)((()=>o.getModel()),[o]),R=(0,_.VK)((()=>(0,eo.QH)(B.default.getIntl(),M,t.mentioned_group_id)),[M,t]),T=(0,_.VK)((()=>Be({edits:t.edits||[],rootStore:o})),[t,o]),I=(0,_.VK)((()=>Ne(T)),[T]),J=u.device.isMobile,D=(0,_.VK)((()=>Ve({recordId:b.id,recordType:g.iU,tab:c,rootStore:o,environment:u})),[b,c,o,u]);if(!(p&&f&&S&&A))return null;const C=n()(Rt,{titledRecordStore:b,activity:t,tabArgs:a,getRecordModel:o.getRecordModel});return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{authorOrAuthors} mentioned {groupName} in a page",values:{authorOrAuthors:I,groupName:R},id:"activity.groupMentionActivity.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:i,isPrivate:D,rootStore:o,prominentTitleLink:C,navigableBlockId:b.id,notification:l,icon:n()(ie,{authors:T}),showSnapshotButton:!1},ct({notification:l,activity:t,environment:u,tab:c})),n()(Ot.Z,{href:A,onClick:()=>nt({environment:u,activity:t,...a}),innerStyle:pt({source:h,isMobile:J})},void 0,n()(Pt.Z,{edit:v,rootStore:o,highlightCurrentUser:!0})),n()(yt,{tabArgs:a,activity:t,isMobile:J,environment:u,rootStore:o})):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{authorOrAuthors} mentioned {groupName} in {pageName}",values:{authorOrAuthors:I,pageName:C,groupName:R},id:"activity.groupMentionActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:i,isPrivate:D,rootStore:o,navigableBlockId:b.id,notification:l,icon:n()(ie,{authors:T}),showSnapshotButton:!1},ct({notification:l,activity:t,environment:u,tab:c})),n()(Ot.Z,{href:A,onClick:()=>nt({environment:u,activity:t,...a}),innerStyle:pt({source:h,isMobile:J})},void 0,n()(Pt.Z,{edit:v,rootStore:o})),n()(yt,{tabArgs:a,activity:t,isMobile:J,environment:u,rootStore:o}))}function oo(e){let t,o,{permissionGroup:i,spaceId:r}=e;window.__c={n:"PermissionGroupTitle"},i?(t=i.icon,o=i.name||n()(O.FormattedMessage,{defaultMessage:"Untitled group",id:"activity.permissionGroupTitles.untitledGroup"})):o=n()(O.FormattedMessage,{defaultMessage:"Deleted group",id:"activity.permissionGroupTitles.deletedGroup"});const a=void 0!==t,d=(0,R.yK)((()=>({title:bt(a)})),[a]),c=(0,s.useMemo)((()=>(0,M.$K)(t)?{icon:t,pointer:{table:"space",id:r}}:void 0),[t,r]);return n()("span",{},void 0,c&&n()(wt.Z,{disabled:!0,icon:c,isEmptyPage:!1,size:18,style:ut}),n()("span",{style:d.title},void 0,o))}const io=s.memo(oo);const ro=function(e){window.__c={n:"PrivateContentTransferredActivity"};const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,notification:l}=i,h=(0,k.O7)(),u=(0,s.useMemo)((()=>t.edits??[]),[t]),m=(0,_.VK)((()=>Be({edits:u,rootStore:o})),[u,o]),p=(0,_.VK)((()=>Ne(m)),[m]),v=w.G.createChildStore(o,{table:g.iU,id:t.navigable_block_id}),b=(0,_.VK)((()=>v.isDefined()),[v]),f=(0,_.VK)((()=>Ve({recordId:v.id,recordType:g.iU,tab:c,rootStore:o,environment:h})),[v,c,o,h]),y=u[0],S=(0,_.VK)((()=>xe(y.from_user_id,o)),[y,o]),A=(0,_.VK)((()=>xe(y.to_user_id,o)),[y,o]);if(!(u.length>0&&S&&A&&b))return null;const M=(0,N.$4)(B.default.getIntl(),{table:J.KJ,value:S}),R=n()(Rt,{titledRecordStore:v,activity:t,tabArgs:i,getRecordModel:o.getRecordModel});return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{authorPhrase} transferred private content from {fromUserName} to you",values:{authorPhrase:p,fromUserName:M},id:"activity.privateContentTransferred.standardizedHeader",description:"Notification header for when private content is transferred from one user to another."}),isLast:a,prominentTitleLink:R,isPrivate:f,rootStore:o,notification:i.notification,icon:n()(ie,{authors:m}),showSnapshotButton:!1},ct({notification:l,activity:t,environment:h,tab:c}))):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{authorPhrase} transferred private content from {fromUserName} to you: {pageName}",values:{authorPhrase:p,fromUserName:M,pageName:R},id:"activity.privateContentTransferred.header",description:"Notification header for when private content is transferred from one user to another."}),isLast:a,isPrivate:f,rootStore:o,notification:i.notification,icon:n()(ie,{authors:m}),showSnapshotButton:!1},ct({notification:l,activity:t,environment:h,tab:c})))};function ao(e){const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{notification:c,tab:l,source:h}=i,u=(0,k.O7)(),m=t.edits??[],p=m.length>0,v=w.G.createChildStore(o,{table:g.iU,id:m[0].navigable_block_id}),b=(0,_.VK)((()=>v.isDefined()),[v]),f=w.G.createChildStore(o,{table:g.iU,id:t.reminder_block_id}),y=(0,_.VK)((()=>f.isDefined()),[f]),S=(0,_.VK)((()=>{const e=f.getModel();if(e)return e.getRenderUrl({getRecordModel:o.getRecordModel})}),[f,o]),A=(0,_.VK)((()=>Ve({recordId:v.id,recordType:g.iU,tab:l,rootStore:o,environment:u})),[v,l,o,u]);if(!(p&&b&&y&&S))return null;const M=u.device.isMobile,R=at(S),T=n()(Rt,{titledRecordStore:v,getRecordModel:o.getRecordModel,activity:t,tabArgs:i});return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{pageTitle:T}})),isLast:a,isPrivate:A,rootStore:o,navigableBlockId:v.id,notification:c,icon:n()(re,{}),showSnapshotButton:!1},ct({notification:c,activity:t,environment:u,tab:l})),n()(Ot.Z,{href:R,onClick:()=>nt({environment:u,activity:t,...i}),innerStyle:pt({source:h,isMobile:M})},void 0,n()(Pt.Z,{edit:m[0],rootStore:o}))):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{pageTitle:T}})),isLast:a,isPrivate:A,rootStore:o,navigableBlockId:v.id,notification:c,icon:n()(re,{}),showSnapshotButton:!1},ct({notification:c,activity:t,environment:u,tab:l})),n()(Ot.Z,{href:R,onClick:()=>nt({environment:u,activity:t,...i}),innerStyle:pt({source:h,isMobile:M})},void 0,n()(Pt.Z,{edit:m[0],rootStore:o})))}var no=o(45094),so=o(23537);function co(e){window.__c={n:"TitleCard"};const{titledRecordStore:t,rootStore:o,activity:i,tabArgs:r}=e,a=o.getRecordModel,d=(0,_.VK)((()=>t.getModel()),[t]),c=(0,k.O7)(),l=(0,_.VK)((()=>null==d?void 0:d.getRenderIcon({getRecordModel:a})),[d,a]),h=(0,R.yK)((e=>({container:{...ht,display:"block",border:`1px solid ${e.outlineButtonBorder}`,borderRadius:3,marginTop:8,padding:10},icon:{...ut,marginRight:8},activityTitle:{display:"inline",whiteSpace:"normal",marginRight:void 0!==l?3:0,wordBreak:"break-word",...mt},flexRow:{display:"flex",alignItems:"center"},title:{maxWidth:"80%"},spacer:{flexGrow:1},subtitle:{fontSize:12,color:e.lightTextColor},avatarContainer:{display:"flex",flexDirection:"row",justifyContent:"start",overflow:"hidden",paddingRight:10},avatar:{marginRight:-5,position:"relative"}})),[l]),u=(0,_.VK)((()=>{if(d&&d.table!==I.e0)return at(d.getRenderUrl({getRecordModel:a}))}),[d,a]),m=(0,s.useCallback)((()=>{const e=t.table;switch(e){case g.iU:case S.bx:st({environment:c,activity:i,...r});break;case I.e0:nt({environment:c,activity:i,...r}),At.hI({environment:c,teamStore:t,shouldScroll:!0}),Mt.Z.setState({...Mt.Z.state,open:!1});break;default:(0,M.t1)(e)}}),[i,c,r,t]),p=(0,_.VK)((()=>{const e=t.table;switch(e){case"space":const o=t.getPublicSpaceData();return o?n()("div",{},void 0,n()(O.FormattedMessage,{id:"activity.titleCard.spaceSubtitle",description:"Label for the space card in the user-invited notification indicating number of workspace members and workspace plan type.",defaultMessage:"{numberOfWorkspaceMembers, plural, one {{numberOfWorkspaceMembers} member} other {{numberOfWorkspaceMembers} members}} Â· {planType}",values:{numberOfWorkspaceMembers:B.default.formatNumber(o.memberCount),planType:B.default.formatMessage((0,no.em)(o.subscriptionTier))}})):null;case"block":const i=(0,Gt.u3)(t);return i?n()(kt.Z,{store:i}):null;case"team":const r=t.getUserIdsInTeam().length,a=t.getTeamAccessLevel();return n()("div",{},void 0,n()(O.FormattedMessage,{id:"activity.titleCard.teamSubtitle",description:"Label for the team card in the team membership changed notification indicating number of teamspace members and privacy settings.",defaultMessage:"{accessLevel} Â· {numberOfTeamMembers, plural, one {{numberOfTeamMembers} member} other {{numberOfTeamMembers} members}}",values:{accessLevel:a,numberOfTeamMembers:r}}));default:(0,M.t1)(e)}}),[t]),v=(0,_.VK)((()=>{const e=t.table;let i=[];switch(e){case"space":const r=t.getModel();if(!r)break;i=r.getUserPermissionItems().slice(0,4).map((e=>e.user_id));break;case"block":const a=t.getCreatedByPointer();(null==a?void 0:a.table)===J.KJ&&(i=[a.id]);break;case"team":i=(0,so.xf)({teamStore:t,spaceStore:o});break;default:(0,M.t1)(e)}return n()("div",{style:h.avatarContainer},void 0,i.map((e=>{const o=w.U6.createChildStore(t,{table:J.KJ,id:e});if(o)return n()($.Z,{userStore:o,size:24,avatarShouldShowShadow:!1,style:h.avatar,isOffline:!1,hasTooltip:!c.device.isMobile})})))}),[c.device.isMobile,h,t,o]);return d?n()(Ot.Z,{href:u,onClick:m,external:!1,innerStyle:h.container,inline:!0},void 0,n()("div",{style:h.flexRow},void 0,l&&n()(wt.Z,{disabled:!0,icon:l,isEmptyPage:!1,size:25,style:h.icon}),n()("div",{style:h.title},void 0,n()(kt.Z,{store:t,style:h.activityTitle}),n()("div",{style:h.subtitle},void 0,p)),n()("div",{style:h.spacer}),n()("div",{},void 0,v))):null}const lo=s.memo(co);function ho(e){const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{notification:c,tab:l}=i,h=(0,k.O7)(),u=t.edits??[],m=u.length>0,p=(0,_.VK)((()=>Be({edits:t.edits||[],rootStore:o})),[t,o]),g=(0,_.VK)((()=>Ne(p)),[p]),v=u[0],b=w.zX.createChildStore(o,{table:I.e0,id:v.team_id}),f=(0,_.VK)((()=>b.isDefined()),[b]);return m&&f?d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a teamspace} other {{authorOrAuthors} invited you to a teamspace}}",values:{numberOfAuthors:p.length,authorOrAuthors:g},id:"activity.userInvitedToTeamActivity.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),prominentTitleLink:n()(lo,{titledRecordStore:b,rootStore:o,activity:t,tabArgs:i}),isLast:a,isPrivate:!1,rootStore:o,notification:c,icon:n()(ie,{authors:p}),showSnapshotButton:!1},ct({notification:c,activity:t,environment:h,tab:l}))):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to teamspace {teamName}} other {{authorOrAuthors} invited you to {teamName}}}",values:{numberOfAuthors:p.length,authorOrAuthors:g,teamName:n()(Rt,{titledRecordStore:b,getRecordModel:o.getRecordModel,activity:t,tabArgs:i})},id:"activity.userInvitedToTeamActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),isLast:a,isPrivate:!1,rootStore:o,notification:c,icon:n()(ie,{authors:p}),showSnapshotButton:!1},ct({notification:c,activity:t,environment:h,tab:l}))):null}var uo=o(23482),mo=o(84683),po=o(94044),go=o(63143);function vo(e){const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{notification:c,tab:l}=i,h=(0,k.O7)(),u=(t.edits??[])[0],m=Ao({rootStore:o,edit:u}),p=function(e){let{data:t,spaceId:o,tab:i,rootStore:r}=e;const a=(0,k.O7)();return(0,_.VK)((()=>{let e,n;if(!t)return!1;if("block"===(null==t?void 0:t.type))e=t.block.id,n="block";else if("space"===(null==t?void 0:t.type)||"group"===(null==t?void 0:t.type)){if(!o)return!1;e=o,n="space"}else(0,M.t1)(t);return Ve({recordId:e,recordType:n,tab:i,rootStore:r,environment:a})}),[t,a,r,o,i])}({data:m,spaceId:u.space_id,tab:l,rootStore:o}),g=(0,_.VK)((()=>Be({edits:t.edits??[],rootStore:o})),[t.edits,o]),v=(0,s.useMemo)((()=>ct({notification:c,environment:h,tab:l,activity:t})),[t,h,c,l]);if(!t.edits||0===t.edits.length||!m)return null;const b=parseInt(t.end_time),f=0===g.filter(N.uC).length,y=f?void 0:n()(ie,{authors:g});return d?s.createElement(he,r()({timestamp:b,header:n()("span",{},void 0,n()(fo,{data:m,authors:g,isFromBot:f,spaceId:u.space_id})),prominentTitleLink:n()(bo,{data:m,rootStore:o,activity:t,tabArgs:i}),isLast:a,isPrivate:p,rootStore:o,navigableBlockId:t.navigable_block_id,notification:c,icon:y,showSnapshotButton:!1},v),s.createElement(So,r()({},e,{edit:u}))):s.createElement(ne,r()({timestamp:b,header:n()("span",{},void 0,n()(yo,{data:m,authors:g,isFromBot:f,activity:t,tabArgs:i,getRecordModel:o.getRecordModel,spaceId:u.space_id})),isLast:a,isPrivate:p,rootStore:o,navigableBlockId:t.navigable_block_id,notification:c,icon:y,showSnapshotButton:!1},v),s.createElement(So,r()({},e,{edit:u})))}function bo(e){let{data:t,rootStore:o,activity:i,tabArgs:r}=e;switch(t.type){case"block":return n()(lo,{tabArgs:r,titledRecordStore:t.block,rootStore:o,activity:i});case"group":return null;case"space":return n()(lo,{tabArgs:r,titledRecordStore:t.space,rootStore:o,activity:i});default:(0,M.t1)(t)}}function fo(e){let{data:t,authors:o,isFromBot:i,spaceId:r}=e;const a=(0,_.VK)((()=>Ne(o)),[o]),s=(0,_.VK)((()=>{var e;return"block"===t.type?null===(e=t.block.getAssociatedCollectionStore())||void 0===e?void 0:e.getDatabaseType():void 0}),[t]);switch(t.type){case"block":if(i)switch(s){case uo.wW:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a project",id:"activity.userInvitedActivityProjectByBot.standardizedHeader",description:"Notification header for updates. Used when the invite to the project is from a bot."});case uo.iS:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a task",id:"activity.userInvitedActivityTaskByBot.standardizedHeader",description:"Notification header for updates. Used when the invite to the task is from a bot."});case uo.zU:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a document",id:"activity.userInvitedActivityDocByBot.standardizedHeader",description:"Notification header for updates. Used when the invite to the document is from a bot."});case uo.Fi:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a meeting",id:"activity.userInvitedActivityMeetingByBot.standardizedHeader",description:"Notification header for updates. Used when the invite to the meeting is from a bot."});case uo.p$:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a sprint",id:"activity.userInvitedActivitySprintByBot.standardizedHeader",description:"Notification header for updates. Used when the invite to the sprint is from a bot."});case uo.GZ:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a wiki",id:"activity.userInvitedActivityWikiByBot.standardizedHeader",description:"Notification header for updates. Used when the invite to the wiki is from a bot."});default:return n()(O.FormattedMessage,{defaultMessage:"You have been invited to a page",id:"activity.userInvitedActivityNavigableBlockByBot.standardizedHeader",description:"Notification header for updates. Used when the invite is from a bot."})}else switch(s){case uo.wW:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a project} other {{authorOrAuthors} invited you to a project}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityProject.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case uo.iS:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a task} other {{authorOrAuthors} invited you to a task}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityTask.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case uo.zU:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a document} other {{authorOrAuthors} invited you to a document}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityDoc.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case uo.Fi:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a meeting} other {{authorOrAuthors} invited you to a meeting}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityMeeting.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case uo.p$:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a sprint} other {{authorOrAuthors} invited you to a sprint}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivitySprint.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case uo.GZ:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a wiki} other {{authorOrAuthors} invited you to a wiki}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityWiki.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});default:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a page} other {{authorOrAuthors} invited you to a page}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityNavigableBlock.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})}case"group":const e=n()(io,{permissionGroup:t.group,spaceId:r});return n()(O.FormattedMessage,i?{defaultMessage:"You have been invited to group {groupName}",values:{groupName:e},id:"activity.userInvitedActivityGroupIdByBot.standardizedHeader",description:"Notification header for updates. Used when the invite is from a bot."}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to group {groupName}} other {{authorOrAuthors} invited you to group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:a,groupName:e},id:"activity.userInvitedActivityGroupId.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case"space":return n()(O.FormattedMessage,i?{defaultMessage:"You have been invited to a workspace",id:"activity.userInvitedActivityOtherInviteByBot.standardizedHeader",description:"Notification header for updates. Used when the invite is from a bot."}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a workspace} other {{authorOrAuthors} invited you to a workspace}}",values:{numberOfAuthors:o.length,authorOrAuthors:a},id:"activity.userInvitedActivityOtherInvite.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});default:(0,M.t1)(t)}}function yo(e){let{data:t,authors:o,isFromBot:i,activity:r,tabArgs:a,getRecordModel:s,spaceId:d}=e;const c=(0,_.VK)((()=>Ne(o)),[o]);switch(t.type){case"block":const e=t.block,l=n()(Rt,{tabArgs:a,titledRecordStore:e,activity:r,getRecordModel:s});return n()(O.FormattedMessage,i?{defaultMessage:"You have been invited to {blockName}",values:{blockName:l},id:"activity.userInvitedActivityNavigableBlockByBot.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to {blockName}} other {{authorOrAuthors} invited you to {blockName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:c,blockName:l},id:"activity.userInvitedActivityNavigableBlock.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case"group":const h=n()(io,{permissionGroup:t.group,spaceId:d});return n()(O.FormattedMessage,i?{defaultMessage:"You have been added to group {groupName}",values:{groupName:h},id:"activity.userInvitedActivityGroupIdByBot.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to group {groupName}} other {{authorOrAuthors} added you to group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:c,groupName:h},id:"activity.userInvitedActivityGroupId.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case"space":const u=n()(Rt,{tabArgs:a,titledRecordStore:t.space,activity:r,getRecordModel:s});return n()(O.FormattedMessage,i?{defaultMessage:"You have been invited to {spaceName}",values:{spaceName:u},id:"activity.userInvitedActivityOtherInviteByBot.header"}:{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to {spaceName}} other {{authorOrAuthors} invited you to {spaceName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:c,spaceName:u},id:"activity.userInvitedActivityOtherInvite.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});default:(0,M.t1)(t)}}function So(e){let{edit:t,activity:o,rootStore:i,tabArgs:r}=e;window.__c={n:"InviteDetail"};const a=(0,k.O7)(),{isMobile:s}=a.device,{source:d}=r,c=(0,R.yK)((()=>({inviteMessage:{paddingLeft:gt({source:d,isMobile:s}),paddingTop:8,paddingBottom:8,paddingRight:12,fontSize:14}})),[s,d]),l=Ao({rootStore:i,edit:t}),h=parseInt(o.end_time),u=(0,_.VK)((()=>{if("block"!==(null==l?void 0:l.type))return;const e=l.block;return null!=e&&e.isDefined()?e.getModel():void 0}),[l]),m=(0,_.VK)((()=>{if(u)return at(u.getRenderUrl({getRecordModel:i.getRecordModel}))}),[u,i.getRecordModel]),p=(0,_.VK)((()=>{if(!u)return{isValid:!1};const e=u&&(0,po.$e)(u,o);if(!e)return{isValid:!1};const t=i.getRecordValue({table:mo.Tu,id:e,spaceId:o.space_id});return null!=t&&t.message&&t.created_time<=h+5*go.hM?{isValid:!0,message:t.message}:{isValid:!1}}),[o,h,u,i]);return null!=p&&p.isValid?n()(Ot.Z,{href:m,onClick:()=>nt({...r,environment:a,activity:o,mightCloseTab:!0}),innerStyle:c.inviteMessage},void 0,p.message):null}function Ao(e){let{rootStore:t,edit:o}=e;return(0,_.VK)((()=>{if(o)return o.navigable_block_id?{type:"block",block:w.G.createChildStore(t,{table:g.iU,id:o.navigable_block_id})}:o.permission_group_id?{type:"group",group:(0,m.Bg)({spaceId:o.space_id,permissionGroupId:o.permission_group_id,getRecordValue:t.getRecordValue})}:{type:"space",space:w.H2.createChildStore(t,{table:S.bx,id:o.space_id})}}),[o,t])}const Mo=s.memo(vo);function Oo(e){const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{source:c,tab:l,notification:h}=i,u=(0,k.O7)(),m=t.edits??[],p=m.length>0,v=m[0],b=w.G.createChildStore(o,{table:g.iU,id:v.navigable_block_id}),f=(0,_.VK)((()=>b.isDefined()),[b]),y=w.G.createChildStore(o,{table:g.iU,id:t.mentioned_block_id}),S=(0,_.VK)((()=>y.isDefined()),[y]),A=(0,_.VK)((()=>{const e=y.getModel();return null==e?void 0:e.getRenderUrl({getRecordModel:o.getRecordModel})}),[y,o]),M=(0,_.VK)((()=>Be({edits:t.edits||[],rootStore:o})),[t,o]),R=(0,_.VK)((()=>Ne(M)),[M]),T=(0,_.VK)((()=>Ve({recordId:b.id,recordType:"block",tab:l,rootStore:o,environment:u})),[b,l,o,u]);if(!(p&&f&&S&&A))return null;const I=at(A),J=u.device.isMobile,D=n()(Rt,{titledRecordStore:b,getRecordModel:o.getRecordModel,activity:t,tabArgs:i}),C=function(e,t,o){switch(e){case uo.Es.Assign:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} assigned you a task} other {{authorOrAuthors} assigned you a task}}",values:{numberOfAuthors:o.length,authorOrAuthors:t},id:"activity.mentionTaskActivity.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});case uo.zI.People:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a project} other {{authorOrAuthors} mentioned you in a project}}",values:{numberOfAuthors:o.length,authorOrAuthors:t},id:"activity.mentionProjectActivity.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});default:return n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a page} other {{authorOrAuthors} mentioned you in a page}}",values:{numberOfAuthors:o.length,authorOrAuthors:t},id:"activity.mentionActivity.standardizedHeader",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})}}(v.mentioned_property,R,M);return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,C),isLast:a,isPrivate:T,rootStore:o,navigableBlockId:b.id,prominentTitleLink:D,notification:h,icon:n()(ie,{authors:M}),showSnapshotButton:!1},ct({notification:h,activity:t,environment:u,tab:l})),n()(Ot.Z,{href:I,onClick:()=>nt({environment:u,activity:t,...i}),innerStyle:pt({source:c,isMobile:J})},void 0,n()(Pt.Z,{edit:v,rootStore:o,highlightCurrentUser:!0})),n()(yt,{tabArgs:i,activity:t,isMobile:J,environment:u,rootStore:o})):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in {pageName}} other {{authorOrAuthors} mentioned you in {pageName}}}",values:{numberOfAuthors:M.length,authorOrAuthors:R,pageName:D},id:"activity.mentionActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:a,isPrivate:T,rootStore:o,navigableBlockId:b.id,notification:h,icon:n()(ie,{authors:M}),showSnapshotButton:!1},ct({notification:h,activity:t,environment:u,tab:l})),n()(Ot.Z,{href:I,onClick:()=>nt({environment:u,activity:t,...i}),innerStyle:pt({source:c,isMobile:J})},void 0,n()(Pt.Z,{edit:v,rootStore:o})),n()(yt,{tabArgs:i,activity:t,isMobile:J,environment:u,rootStore:o}))}var wo=o(80951);function ko(e){const{activity:t,rootStore:o,tabArgs:i,isLast:a,useRedesignedIA:d}=e,{tab:c,source:l,notification:h}=i,u=(0,k.O7)(),m=w.G.createChildStore(o,{table:g.iU,id:t.navigable_block_id}),p=(0,_.VK)((()=>m.isDefined()),[m]),b=w.NW.createChildStore(o,{table:v.v,id:t.collection_id,spaceId:t.space_id}),f=(0,_.VK)((()=>b.isDefined()),[b]),y=(0,_.VK)((()=>{const e=b.getSchema(),t=Object.keys(e).find((t=>{var o;return"verification"===(null===(o=e[t])||void 0===o?void 0:o.type)}));let i=n()(O.FormattedMessage,{id:"Activity.author.unknown",defaultMessage:"Unknown",description:"Label for a user when the user info is unknown for some reason"});if(t){const e=m.getPropertyValue(t),r=wo._w(e);if(r){const e=Pe(r[0],o);e&&e.value&&(i=Ne([e]))}}return i}),[m,b,o]),S=(0,_.VK)((()=>Ve({recordId:m.id,recordType:"block",tab:c,rootStore:o,environment:u})),[m,c,o,u]);if(!p||!f)return null;const A=n()(Rt,{titledRecordStore:m,getRecordModel:o.getRecordModel,activity:t,tabArgs:i}),M=n()(O.FormattedMessage,{defaultMessage:"Verification expired for <boldtext>{pageTitle}</boldtext>",values:{pageTitle:A,boldtext:e=>n()("span",{style:{fontWeight:500}},void 0,e)},id:"activity.verificationExpired.header",description:"Notification header for when verification for a page has expired."}),R=parseInt(t.start_time),T=parseInt(t.end_time),I=u.device.isMobile,J=n()("div",{style:{fontSize:14,...pt({source:l,isMobile:I})}},void 0,n()(O.FormattedMessage,R&&T?{defaultMessage:"Last verified by {person} from {startDate} to {endDate}",values:{person:y,startDate:(0,E.gs)(parseInt(t.start_time)),endDate:(0,E.gs)(parseInt(t.end_time))},id:"activity.verificationExpired.contentWithTimestamp",description:"Notification content for when verification for a page has expired, to show who last verified it and when."}:{defaultMessage:"Last verified by {person}",values:{person:y},id:"activity.verificationExpired.contentWithoutTimestamp",description:"Notification content for when verification for a page has expired, to show who last verified it."}));return d?s.createElement(he,r()({timestamp:parseInt(t.end_time),header:M,isLast:a,isPrivate:S,rootStore:b,navigableBlockId:t.navigable_block_id,notification:h,icon:n()(ae,{}),showSnapshotButton:!1},ct({notification:h,activity:t,environment:u,tab:c})),J,n()(yt,{tabArgs:i,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:o})):s.createElement(ne,r()({timestamp:parseInt(t.end_time),header:M,isLast:a,isPrivate:S,rootStore:b,navigableBlockId:t.navigable_block_id,notification:h,icon:n()(ae,{}),showSnapshotButton:!1},ct({notification:h,activity:t,environment:u,tab:c})),J,n()(yt,{tabArgs:i,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:o}))}var _o=o(1136),Ro=o(45669);class To extends d.Z{constructor(){super(...arguments),this.renderBlockEdit=(e,t,o)=>{const{tabArgs:i}=this.props,{source:r}=i;let a=this.getRecordValue({table:g.iU,id:e.block_id});a&&a.type===l.Ti.tableRow&&(a=this.getRecordValue({table:g.iU,id:a.parent_id}));const s=a?at(u.kk.fromBlock(a).getRenderUrl({getRecordModel:this.getRecordModel})):p._j.root,d=this.environment.device.isMobile;return"block-deleted"===e.type?e.block_data.block_value.type===l.Ti.page?n()(Ot.Z,{href:s,onClick:()=>nt({...i,environment:this.environment,activity:o}),innerStyle:pt({source:r,isMobile:d})},t,n()(Pt.Z,{edit:e,rootStore:this.props.rootStore})):n()("div",{style:pt({source:r,isMobile:d})},t,n()(Pt.Z,{edit:e,rootStore:this.props.rootStore})):n()(Ot.Z,{href:s,onClick:()=>nt({...i,environment:this.environment,activity:o}),innerStyle:pt({source:r,isMobile:d})},t,n()(Pt.Z,{edit:e,rootStore:this.props.rootStore}))},this.renderCollectionPropertyEdit=(e,t)=>{if("collection-property-changed"!==e.type)return;const{source:o}=this.props.tabArgs,i=this.environment.device.isMobile;return n()(Ot.Z,{href:t,innerStyle:pt({source:o,isMobile:i})},void 0,n()(Pt.Z,{edit:e,rootStore:this.props.rootStore}))},this.getRecordStore=e=>this.props.rootStore.getRecordStore(this.props.rootStore,e),this.getSpaceStore=e=>w.H2.createChildStore(this.props.rootStore,{table:S.bx,id:e}),this.getDiscussionContext=()=>{const e=Le({activity:this.props.activity,rootStore:this.props.rootStore});if(e)return e.context}}willMountOrUpdate(){this.warmCommentData(),this.environment.KatexStore.loadIfNeeded(this.getDiscussionContext)}warmCommentData(){if("commented"===this.props.activity.type){const e=this.getRecordStore({table:y.qF,id:this.props.activity.discussion_id,spaceId:this.props.activity.space_id});if(e.isDefined()){const t=e.getCommentStores();for(const e of t)if(e.isDefined()&&e.getCreatedByTable()&&e.getCreatedById()){this.getRecordStore(e.getCreatedByPointer()).load()}}}}renderComponent(){const{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r}=this.props;switch(e.type){case"block-edited":return this.renderBlockEditActivity(e);case"block-property-edited":return n()(Ft,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"collection-row-created":case"collection-row-deleted":return this.renderCollectionRowActivity(e);case"top-level-block-created":case"top-level-block-deleted":return this.renderTopLevelBlockActivity(e);case"permissions-edited":return this.renderPermissionsActivity(e);case"permission-group-edited":return this.renderPermissionGroupActivity(e);case"user-mentioned":return n()(Oo,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"commented":return n()(Xt,{activity:e,tabArgs:o,rootStore:t,isLast:i,useRedesignedIA:r});case"user-invited":return n()(Mo,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"collection-edited":return this.renderCollectionEdited(e);case"collection-view-edited":return this.renderCollectionViewEdited(e);case"collection-property-edited":return this.renderCollectionPropertyEdited(e);case"reminder":return n()(ao,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"page-locked":case"page-unlocked":return this.renderPageLockActivity(e);case"email-edited":return n()(Qt,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"access-requested":return n()(Nt,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"page-deleted":case"page-restored":case"page-permanently-deleted":return this.renderPageDeleteOrRestoreActivity(e);case"team-membership-edited":return n()(ho,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"private-content-transferred":return n()(ro,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"permission-group-mentioned":return n()(to,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});case"verification-expired":return n()(ko,{activity:e,rootStore:t,tabArgs:o,isLast:i,useRedesignedIA:r});default:(0,M.t1)(e)}}renderBlockEditActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=(0,A.hI)(e.edits).filter((e=>{const{block_value:t}="block-changed"===e.type?e.block_data.after:e.block_data;return t.parent_table!==f.x_}));if(0===d.length)return;const c=this.getBlockStore(d[0].navigable_block_id);if(!c.isDefined())return;const l=Be({edits:d,rootStore:o}),h=Ne(l),u=n()(Rt,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel});return s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {pageTitle}} other {{authorOrAuthors} edited {pageTitle}}}",id:"activity.blockEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)",values:{numberOfAuthors:l.length,authorOrAuthors:h,pageTitle:u}})),isLast:this.props.isLast,isPrivate:Ve({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),rootStore:this.props.rootStore,navigableBlockId:c.id,notification:i,icon:n()(ie,{authors:l}),showSnapshotButton:this.isTopbarUpdatesMenu()},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(Lt,{visible:5,items:d.map(((t,o)=>this.renderBlockEdit(t,o,e)))}),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionRowActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0],c=this.getBlockStore(e.collection_row_id);if(!c.isDefined())return;if(!c.getProperties())return;const l=Be({edits:e.edits,rootStore:o}),h=Ne(l),u=n()(Rt,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),m="collection-row-created"===d.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {pageTitle}} other {{authorOrAuthors} created {pageTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,pageTitle:u},id:"activity.collectionRowCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {pageTitle}} other {{authorOrAuthors} deleted {pageTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,pageTitle:u},id:"activity.collectionRowDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});return s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,m),isLast:this.props.isLast,isPrivate:Ve({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),rootStore:this.props.rootStore,navigableBlockId:c.id,notification:i,icon:n()(ie,{authors:l}),showSnapshotButton:this.isTopbarUpdatesMenu()},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderTopLevelBlockActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0],c=this.getBlockStore(e.top_level_block_id);if(!c.isDefined())return;const l=c.hasSpacePermission(),h=Be({edits:e.edits,rootStore:o}),u=Ne(h),m=n()(Rt,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel});let p;return p=l?"top-level-block-created"===d.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created workspace page {pageTitle}} other {{authorOrAuthors} created workspace page {pageTitle}}}",values:{numberOfAuthors:h.length,authorOrAuthors:u,pageTitle:m},id:"activity.topLevelBlockWorkspaceCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted workspace page {pageTitle}} other {{authorOrAuthors} deleted workspace page {pageTitle}}}",values:{numberOfAuthors:h.length,authorOrAuthors:u,pageTitle:m},id:"activity.topLevelBlockWorkspaceDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"top-level-block-created"===d.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created private page {pageTitle}} other {{authorOrAuthors} created private page {pageTitle}}}",values:{numberOfAuthors:h.length,authorOrAuthors:u,pageTitle:m},id:"activity.topLevelBlockPrivateCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted private page {pageTitle}} other {{authorOrAuthors} deleted private page {pageTitle}}}",values:{numberOfAuthors:h.length,authorOrAuthors:u,pageTitle:m},id:"activity.topLevelBlockPrivateDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,p),isLast:this.props.isLast,isPrivate:Ve({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),rootStore:this.props.rootStore,notification:i,icon:n()(ie,{authors:h}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a})))}renderPermissionsActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a,source:d}=t;if(!e.edits)return;const l=(0,A.hI)(e.edits);if(0===l.length)return;let h,u;const m=l[0];if(m.navigable_block_id){const i=this.getBlockStore(m.navigable_block_id);if(!i.isDefined())return;u=n()(Rt,{titledRecordStore:i,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),h=Ve({recordId:i.id,recordType:"block",tab:a,rootStore:o,environment:this.environment})}else{const i=this.getSpaceStore(m.space_id);if(!i.isDefined())return;u=n()(Rt,{titledRecordStore:i,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),h=Ve({recordId:m.space_id,recordType:"space",tab:a,rootStore:o,environment:this.environment})}const{autojoinEdits:p,inheritanceEdits:g,otherEdits:v}=c.md(e.edits),b=[];p.forEach(((t,d)=>{const c=Be({edits:[t],rootStore:o}),l=Ne(c);b.push(s.createElement(ne,r()({key:`autojoin-${d}`,timestamp:t.timestamp,header:n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} joined {pageOrSpaceName}} other {{authorOrAuthors} joined {pageOrSpaceName}}}",values:{numberOfAuthors:c.length,authorOrAuthors:l,pageOrSpaceName:u},id:"activity.permissionsActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),isLast:this.props.isLast,isPrivate:h,rootStore:this.props.rootStore,navigableBlockId:t.navigable_block_id,notification:i,icon:n()(ie,{authors:c}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a}))))}));const f=this.environment.device.isMobile;g.forEach(((c,l)=>{const m=Be({edits:[c],rootStore:o}),p=Ne(m);let g;"permission-restriction-created"===c.type?g=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restricted access for {pageOrSpaceName}} other {{authorOrAuthors} restricted access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,pageOrSpaceName:u,inSudoMode:c.inSudoMode},id:"activity.restrictPermissionsForActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"permission-restriction-deleted"===c.type&&(g=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored inherited access for {pageOrSpaceName}} other {{authorOrAuthors} restored inherited access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,pageOrSpaceName:u,inSudoMode:c.inSudoMode},id:"activity.restorePermissionsForActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})),b.push(s.createElement(ne,r()({key:`inheritance-${l}`,timestamp:parseInt(e.end_time),header:n()("span",{},void 0,g),isLast:this.props.isLast,isPrivate:h,rootStore:this.props.rootStore,navigableBlockId:c.navigable_block_id,notification:i,icon:n()(ie,{authors:m}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()("div",{style:pt({source:d,isMobile:f})},void 0,n()(Pt.Z,{edit:c,rootStore:this.props.rootStore})),n()(yt,{tabArgs:t,activity:e,isMobile:f,environment:this.environment,rootStore:o})))}));const y=(c,l,u)=>{if(c.length>0){const p=Be({edits:c,rootStore:o});b.push(s.createElement(ne,r()({key:l,timestamp:parseInt(e.end_time),header:u,isLast:this.props.isLast,isPrivate:h,rootStore:this.props.rootStore,navigableBlockId:m.navigable_block_id,notification:i,icon:n()(ie,{authors:p}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a})),c.map(((e,t,o)=>n()("div",{style:pt({source:d,isMobile:f})},t,n()(Pt.Z,{edit:e,rootStore:this.props.rootStore},t)))),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o})))}},S=v.filter((e=>!e.inSudoMode));if(S.length>0){const e=Be({edits:S,rootStore:o}),t=Ne(e);y(S,"other",n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}}",values:{numberOfAuthors:e.length,authorOrAuthors:t,pageOrSpaceName:u},id:"activity.updatedPermissionsForActivity.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})))}const M=v.filter((e=>e.inSudoMode));if(M.length>0){const e=Be({edits:M,rootStore:o}),t=Ne(e);y(M,"other-sudo",n()("span",{},void 0,n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}} using administrator privileges",values:{numberOfAuthors:e.length,authorOrAuthors:t,pageOrSpaceName:u},id:"activity.updatedPermissionsForActivityInSudoMode.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})))}return b}renderPermissionGroupActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a,source:d}=t;if(!e.edits)return;const c=(0,A.hI)(e.edits)[0];if(!c)return;const l=this.getSpaceStore(c.space_id);if(!l.isDefined())return;const h=at(l.getModel().getRenderUrl({getRecordModel:this.getRecordModel})),u=n()(io,{permissionGroup:(0,m.c_)({activity:e,getRecordValue:this.getRecordValue}),spaceId:e.space_id}),p=Be({edits:e.edits,rootStore:o}),g=this.environment.device.isMobile;return s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,this.renderPermissionGroupEditedHeader({activity:e,authors:p,groupName:u})),isLast:this.props.isLast,isPrivate:Ve({recordId:e.space_id,recordType:"space",tab:a,rootStore:o,environment:this.environment}),rootStore:o,notification:i,icon:n()(ie,{authors:p}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(Ot.Z,{href:h,onClick:()=>nt({...t,environment:this.environment,activity:e}),innerStyle:pt({source:d,isMobile:g})},void 0,n()(Pt.Z,{edit:c,rootStore:o})),n()(yt,{tabArgs:t,activity:e,isMobile:g,environment:this.environment,rootStore:o}))}renderCollectionEdited(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=this.getRecordStore({table:v.v,id:e.collection_id,spaceId:e.space_id});if(!d.isDefined())return;const l=e.edits[0];if(!l)return;const h=at(d.getModel().getRenderUrl({getRecordModel:this.getRecordModel})),u=Be({edits:e.edits,rootStore:o}),m=Ne(u),p=n()(Rt,{titledRecordStore:d,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),g="collection-created"===l.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {collectionTitle}} other {{authorOrAuthors} created {collectionTitle}}}",values:{numberOfAuthors:u.length,authorOrAuthors:m,collectionTitle:p},id:"activity.collectionCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {collectionTitle}} other {{authorOrAuthors} edited {collectionTitle}}}",values:{numberOfAuthors:u.length,authorOrAuthors:m,collectionTitle:p},id:"activity.collectionEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});return s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,g),isLast:this.props.isLast,isPrivate:Ve({recordId:e.collection_id,recordType:"collection",tab:a,rootStore:o,environment:this.environment}),rootStore:o,navigableBlockId:e.navigable_block_id,notification:i,icon:n()(ie,{authors:u}),showSnapshotButton:this.isTopbarUpdatesMenu()},ct({notification:i,activity:e,environment:this.environment,tab:a})),c.OC(l)&&this.renderCollectionDescriptionEdit(l,h),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionDescriptionEdit(e,t){const{source:o}=this.props.tabArgs,i=this.environment.device.isMobile;return n()(Ot.Z,{href:t,innerStyle:pt({source:o,isMobile:i})},void 0,n()(Pt.Z,{edit:e,rootStore:this.props.rootStore}))}renderCollectionViewEdited(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=this.getRecordStore({table:v.v,id:e.collection_id,spaceId:e.space_id});if(!d.isDefined())return;const c=this.getRecordStore({table:b.n,id:e.collection_view_id,spaceId:e.space_id});if(!c.isDefined())return;const l=(0,A.hI)(e.edits)[0];if(!l)return;const h=this.renderCollectionViewTitle(c,e),u=n()(Rt,{titledRecordStore:d,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),m=Be({edits:e.edits,rootStore:o}),p=Ne(m);let g;return g="collection-view-created"===l.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:u,collectionViewTitle:h},id:"activity.collectionViewCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"collection-view-deleted"===l.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:u,collectionViewTitle:h},id:"activity.collectionViewDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:u,collectionViewTitle:h},id:"activity.collectionViewEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,g),isLast:this.props.isLast,isPrivate:Ve({recordId:e.collection_id,recordType:"collection",tab:a,rootStore:o,environment:this.environment}),rootStore:o,navigableBlockId:e.navigable_block_id,notification:i,icon:n()(ie,{authors:m}),showSnapshotButton:this.isTopbarUpdatesMenu()},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionPropertyEdited(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=(0,A.hI)(e.edits),c=d[0];if(!c)return;const l=this.getRecordStore({table:v.v,id:e.collection_id,spaceId:e.space_id});if(!l.isDefined())return;const h=at(l.getModel().getRenderUrl({getRecordModel:this.getRecordModel})),u="collection-property-changed"===c.type?c.collection_property_data.after:c.collection_property_data,m=Be({edits:e.edits,rootStore:o}),p=Ne(m),g=n()(Rt,{titledRecordStore:l,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),b=this.renderCollectionPropertyTitle(u);let f;return f="collection-property-created"===c.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:g,collectionPropertyTitle:b},id:"activity.collectionPropertyCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"collection-property-deleted"===c.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:g,collectionPropertyTitle:b},id:"activity.collectionPropertyDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:m.length,authorOrAuthors:p,collectionTitle:g,collectionPropertyTitle:b},id:"activity.collectionPropertyEdited.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}),s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,f),isLast:this.props.isLast,isPrivate:Ve({recordId:e.collection_id,recordType:"collection",tab:a,rootStore:o,environment:this.environment}),rootStore:o,navigableBlockId:e.navigable_block_id,notification:i,icon:n()(ie,{authors:m}),showSnapshotButton:this.isTopbarUpdatesMenu()},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(Lt,{visible:5,items:d.map((e=>this.renderCollectionPropertyEdit(e,h)))}),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderPageLockActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0],c=this.getBlockStore(d.navigable_block_id);if(!c.isDefined())return;const l=Be({edits:e.edits,rootStore:o}),h=Ne(l),u=n()(Rt,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel}),m="page-locked"===e.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} locked {blockTitle}} other {{authorOrAuthors} locked {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,blockTitle:u},id:"activity.pageLocked.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} unlocked {blockTitle}} other {{authorOrAuthors} unlocked {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,blockTitle:u},id:"activity.pageUnlocked.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"});return s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,m),isPrivate:Ve({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),isLast:this.props.isLast,rootStore:o,navigableBlockId:c.id,notification:i,icon:n()(ie,{authors:l}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderPageDeleteOrRestoreActivity(e){const{tabArgs:t,rootStore:o}=this.props,{notification:i,tab:a}=t;if(!e.edits)return;const d=e.edits[0];if(!d)return;const c=this.getRecordStore({table:g.iU,id:d.navigable_block_id,spaceId:d.space_id});if(!c.isDefined())return;const l=Be({edits:e.edits,rootStore:o}),h=Ne(l),u=n()(Rt,{titledRecordStore:c,activity:e,tabArgs:t,getRecordModel:o.getRecordModel});let m;return"page-deleted"===e.type?m=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {blockTitle}} other {{authorOrAuthors} deleted {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,blockTitle:u},id:"emailActivity.pageDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"page-restored"===e.type?m=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored {blockTitle}} other {{authorOrAuthors} restored {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,blockTitle:u},id:"emailActivity.pageRestored.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"page-permanently-deleted"===e.type?m=n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} permanently deleted {blockTitle}} other {{authorOrAuthors} permanently deleted {blockTitle}}}",values:{numberOfAuthors:l.length,authorOrAuthors:h,blockTitle:u},id:"emailActivity.pagePermanentlyDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):(0,M.t1)(e),s.createElement(ne,r()({timestamp:parseInt(e.end_time),header:n()("span",{},void 0,m),isPrivate:Ve({recordId:c.id,recordType:"block",tab:a,rootStore:o,environment:this.environment}),isLast:this.props.isLast,rootStore:o,navigableBlockId:c.id,notification:i,icon:n()(ie,{authors:l}),showSnapshotButton:!1},ct({notification:i,activity:e,environment:this.environment,tab:a})),n()(yt,{tabArgs:t,activity:e,isMobile:this.environment.device.isMobile,environment:this.environment,rootStore:o}))}renderCollectionPropertyTitle(e){const{theme:t}=this;return n()("span",{style:{...mt,whiteSpace:"nowrap"}},void 0,n()(h.ZP,{icon:e.icon,type:e.type,size:12,style:To.svgIconStyle,theme:t}),e.name)}renderCollectionViewTitle(e,t){const{tabArgs:o}=this.props;if(!e.isDefined())return;const i=e.getModel().getRenderUrl({getRecordModel:this.getRecordModel}),r=e.getFormat().collection_view_icon,a=e.getType();return n()(Ot.Z,{href:i,onClick:()=>st({environment:this.environment,activity:t,...o}),external:!1,innerStyle:{...ht,...mt},inline:!0},void 0,n()(_o.F,{viewIcon:r,viewType:a,color:"light",style:{display:"inline-block",verticalAlign:"middle",marginRight:4,marginBottom:2},size:12}),n()(Ro.Z,{collectionViewName:e.getName(),collectionViewType:e.getType()}))}isTopbarUpdatesMenu(){return"pageUpdatesSidebar"===this.props.tabArgs.tab}renderPermissionGroupEditedHeader(e){const{activity:t,authors:o,groupName:i}=e,r=Ne(o),a=(0,A.hI)(t.edits||[])[0];return a?"permission-group-created"===a.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created group {groupName}} other {{authorOrAuthors} created group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:mt},void 0,i)},id:"activity.updatedPermissionGroupCreated.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):"permission-group-deleted"===a.type?n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted group {groupName}} other {{authorOrAuthors} deleted group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:mt},void 0,i)},id:"activity.updatedPermissionGroupDeleted.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited group {groupName}} other {{authorOrAuthors} edited group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:mt},void 0,i)},id:"activity.updatedPermissionGroupEditedDefault.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"}):n()(O.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited group {groupName}} other {{authorOrAuthors} edited group {groupName}}}",values:{numberOfAuthors:o.length,authorOrAuthors:r,groupName:n()("span",{style:mt},void 0,i)},id:"activity.updatedPermissionGroupEdit.header",description:"Notification header for updates. The authorOrAuthors variable will be either a name (eg John Doe), two names (eg John Doe and Jane Smith), or more than three (eg John Doe, Jane Smith, and 3 others)"})}get getRecordValue(){return this.props.rootStore.getRecordValue}get getRecordModel(){return this.props.rootStore.getRecordModel}getBlockStore(e){return w.G.createChildStore(this.props.rootStore,{table:g.iU,id:e})}}To.displayName="Activity",To.svgIconStyle={width:12,height:12,display:"inline-block",verticalAlign:"middle",marginBottom:2,marginRight:4};const Io=To},98905:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(49085);class r extends i.Z{getInitialState(){return{count:0}}}const a=new r}}]);